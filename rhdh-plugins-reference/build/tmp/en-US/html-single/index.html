<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo"><head><title>RHDH Plugins Reference</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css"/><meta name="generator" content="publican v4.3.2"/><meta name="description" content="The Red Hat Plug-ins for Backstage reference describes the settings for each of the Backstage plug-ins supported by Red Hat."/><link rel="next" href="#idm46687275581504" title="Preface"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript" src="Common_Content/scripts/jquery-1.7.1.min.js"> </script><script type="text/javascript" src="Common_Content/scripts/utils.js"> </script><script type="text/javascript" src="Common_Content/scripts/highlight.js/highlight.pack.js"> </script></head><body><div id="chrometwo"><div id="main"><div xml:lang="en-US" class="book" id="idm46687274028032"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Plug-ins for Backstage</span> <span class="productnumber">2.0</span></div><div><h1 class="title">RHDH Plugins Reference</h1></div><div><h2 class="subtitle">Red Hat Plug-ins for Backstage provided by Red Hat</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="org"> <span class="orgname">Red Hat Developer Hub Documentation Team</span>
	 </span></div></div><div><a href="#idm46687272251744">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				The Red Hat Plug-ins for Backstage reference describes the settings for each of the Backstage plug-ins supported by Red Hat.
			</div></div></div></div><hr/></div><div class="toc"><ul class="toc"><li><span class="preface"><a href="#idm46687275581504">Preface</a></span></li><li><span class="chapter"><a href="#ansible-automation-platform-backstage-provider-plugin">1. Ansible Automation Platform Backstage provider plugin</a></span><ul><li><span class="section"><a href="#for-administrators">1.1. For administrators</a></span><ul><li><span class="section"><a href="#installing-the-configuring-the-aap-backend-plugin">1.1.1. Installing the configuring the AAP Backend plugin</a></span></li><li><span class="section"><a href="#log-lines-for-aap-backend-plugin-troubleshoot">1.1.2. Log lines for AAP Backend plugin troubleshoot</a></span></li></ul></li><li><span class="section"><a href="#for-users">1.2. For users</a></span><ul><li><span class="section"><a href="#accessing-templates-from-ansible-automation-platform-in-backstage">1.2.1. Accessing templates from Ansible Automation Platform in Backstage</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#azure-container-registry-plugin-for-backstage">2. Azure Container Registry plugin for Backstage</a></span><ul><li><span class="section"><a href="#for-administrators-2">2.1. For administrators</a></span><ul><li><span class="section"><a href="#installing-and-configuring-the-acr-plugin">2.1.1. Installing and configuring the ACR plugin</a></span></li></ul></li><li><span class="section"><a href="#for-users-2">2.2. For users</a></span><ul><li><span class="section"><a href="#using-the-acr-plugin-in-backstage">2.2.1. Using the ACR plugin in Backstage</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#argocd-plugin-for-backstage">3. ArgoCD plugin for Backstage</a></span><ul><li><span class="section"><a href="#for-administrators-3">3.1. For administrators</a></span><ul><li><span class="section"><a href="#installation-1">3.1.1. Installation</a></span></li></ul></li><li><span class="section"><a href="#support-for-multiple-argocd-instances-in-backstage">3.2. Support for multiple ArgoCD instances in Backstage</a></span><ul><li><span class="section"><a href="#permissions-in-argocd-plugin">3.2.1. Permissions in ArgoCD plugin</a></span></li><li><span class="section"><a href="#self-signed-certificates-in-argocd-plugin">3.2.2. Self-signed certificates in ArgoCD plugin</a></span></li></ul></li><li><span class="section"><a href="#for-users-3">3.3. For users</a></span><ul><li><span class="section"><a href="#using-argocd-plugin-in-backstage">3.3.1. Using ArgoCD plugin in Backstage</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#jfrog-artifactory-plugin-for-backstage">4. Jfrog Artifactory plugin for Backstage</a></span><ul><li><span class="section"><a href="#for-administrators-4">4.1. For administrators</a></span><ul><li><span class="section"><a href="#installing-and-configuring-the-jfrog-artifactory-plugin">4.1.1. Installing and configuring the Jfrog Artifactory plugin</a></span></li></ul></li><li><span class="section"><a href="#for-users-4">4.2. For users</a></span><ul><li><span class="section"><a href="#using-the-jfrog-artifactory-plugin-in-backstage">4.2.1. Using the Jfrog Artifactory plugin in Backstage</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#keycloak-backend-plugin-for-backstage">5. Keycloak backend plugin for Backstage</a></span><ul><li><span class="section"><a href="#capabilities">5.1. Capabilities</a></span></li><li><span class="section"><a href="#for-administrators-5">5.2. For administrators</a></span><ul><li><span class="section"><a href="#installation-2">5.2.1. Installation</a></span></li><li><span class="section"><a href="#configuration">5.2.2. Configuration</a></span></li><li><span class="section"><a href="#limitations">5.2.3. Limitations</a></span></li></ul></li><li><span class="section"><a href="#for-users-5">5.3. For users</a></span><ul><li><span class="section"><a href="#imported-users-and-groups-in-backstage-using-keycloak-plugin">5.3.1. Imported users and groups in Backstage using Keycloak plugin</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#nexus-repository-manager-plugin-for-backstage">6. Nexus Repository Manager plugin for Backstage</a></span><ul><li><span class="section"><a href="#for-administrators-6">6.1. For administrators</a></span><ul><li><span class="section"><a href="#installing-and-configuring-the-nexus-repository-manager-plugin">6.1.1. Installing and configuring the Nexus Repository Manager plugin</a></span></li></ul></li><li><span class="section"><a href="#for-users-6">6.2. For users</a></span><ul><li><span class="section"><a href="#using-the-nexus-repository-manager-plugin-in-backstage">6.2.1. Using the Nexus Repository Manager plugin in Backstage</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#open-cluster-management-plugin-for-backstage">7. Open Cluster Management plugin for Backstage</a></span><ul><li><span class="section"><a href="#capabilities-2">7.1. Capabilities</a></span></li><li><span class="section"><a href="#for-administrators-7">7.2. For administrators</a></span><ul><li><span class="section"><a href="#installation-3">7.2.1. Installation</a></span></li></ul></li><li><span class="section"><a href="#for-users-7">7.3. For users</a></span><ul><li><span class="section"><a href="#using-the-ocm-plugin-in-backstage">7.3.1. Using the OCM plugin in Backstage</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#quay-plugin-for-backstage">8. Quay plugin for Backstage</a></span><ul><li><span class="section"><a href="#for-administrators-8">8.1. For administrators</a></span><ul><li><span class="section"><a href="#installation">8.1.1. Installation</a></span></li><li><span class="section"><a href="#configuration-2">8.1.2. Configuration</a></span></li></ul></li><li><span class="section"><a href="#for-users-8">8.2. For users</a></span><ul><li><span class="section"><a href="#using-the-quay-plugin-in-backstage">8.2.1. Using the Quay plugin in Backstage</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#tekton-plugin-for-backstage">9. Tekton plugin for Backstage</a></span><ul><li><span class="section"><a href="#for-administrators-9">9.1. For administrators</a></span><ul><li><span class="section"><a href="#setting-tekton-plugin">9.1.1. Setting up the Tekton plugin</a></span></li></ul></li><li><span class="section"><a href="#for-users-9">9.2. For users</a></span><ul><li><span class="section"><a href="#using-the-tekton-plugin-in-backstage">9.2.1. Using the Tekton plugin in Backstage</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#topology-plugin-for-backstage">10. Topology plugin for Backstage</a></span><ul><li><span class="section"><a href="#for-administrators-10">10.1. For administrators</a></span><ul><li><span class="section"><a href="#installation-4">10.1.1. Installation</a></span></li></ul></li><li><span class="section"><a href="#for-users-10">10.2. For users</a></span><ul><li><span class="section"><a href="#using-the-topology-plugin-in-backstage">10.2.1. Using the Topology plugin in Backstage</a></span></li></ul></li></ul></li></ul></div><section class="preface" id="idm46687275581504"><div class="titlepage"><div><div><h1 class="title">Preface</h1></div></div></div><h2 id="making-open-source-more-inclusive">Making open source more inclusive</h2><p>
			Red Hat is committed to replacing problematic language in our code, documentation, and web properties. We are beginning with these four terms: master, slave, blacklist, and whitelist. Because of the enormity of this endeavor, these changes will be implemented gradually over several upcoming releases. For more details, see <a class="link" href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language">our CTO Chris Wright’s message</a>.
		</p></section><section class="chapter" id="ansible-automation-platform-backstage-provider-plugin"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Ansible Automation Platform Backstage provider plugin</h1></div></div></div><p>
			The Ansible Automation Platform (AAP) Backstage provider plugin synchronizes the accessible templates including job templates and workflow job templates from AAP into the <a class="link" href="https://backstage.io/">Backstage</a> catalog.
		</p><section class="section" id="for-administrators"><div class="titlepage"><div><div><h2 class="title">1.1. For administrators</h2></div></div></div><section class="section" id="installing-the-configuring-the-aap-backend-plugin"><div class="titlepage"><div><div><h3 class="title">1.1.1. Installing the configuring the AAP Backend plugin</h3></div></div></div><p>
					The AAP Backstage provider plugin allows the configuration of one or multiple providers using the <code class="literal">app-config.yaml</code> configuration file of Backstage.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Your Backstage application is installed and running.
						</li><li class="listitem">
							You have created an account in Ansible Automation Platform.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Run the following command to install the AAP Backstage provider plugin:
						</p><pre class="programlisting language-console">yarn workspace backend add @redhat/backstage-plugin-aap-backend</pre></li><li class="listitem"><p class="simpara">
							Use <code class="literal">aap</code> marker to configure the <code class="literal">app-config.yaml</code> file of Backstage as follows:
						</p><pre class="programlisting language-yaml">   catalog:
     providers:
       aap:
         dev:
           baseUrl: &lt;URL&gt;
           authorization: 'Bearer ${AAP_AUTH_TOKEN}'
           owner: &lt;owner&gt;
           system: &lt;system&gt;
           schedule: # optional; same options as in TaskScheduleDefinition
             # supports cron, ISO duration, "human duration" as used in code
             frequency: { minutes: 1 }
             # supports ISO duration, "human duration" as used in code
             timeout: { minutes: 1 }</pre></li><li class="listitem"><p class="simpara">
							Configure the scheduler using one of the following options:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Add the following code to the <code class="literal">packages/backend/src/plugins/catalog.ts</code> file if the scheduler is configured inside the <code class="literal">app-config.yaml</code> file:
								</li></ul></div><pre class="screen">    /* highlight-add-next-line */
    import {
        AapResourceEntityProvider
    } from '@janus-idp/backstage-plugin-aap-backend';
    export default async function createPlugin(env: PluginEnvironment, ): Promise &lt; Router &gt; {
        const builder = await CatalogBuilder.create(env);
        /* ... other processors and/or providers ... */
        /* highlight-add-start */
        builder.addEntityProvider(AapResourceEntityProvider.fromConfig(env.config, {
            logger: env.logger,
            scheduler: env.scheduler,
        }), );
        /* highlight-add-end */
        const {
            processingEngine,
            router
        } = await builder.build();
        await processingEngine.start();
        return router;
    }</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Add a schedule directly inside the <code class="literal">packages/backend/src/plugins/catalog.ts</code> file as follows:
								</li></ul></div><pre class="screen">    /* highlight-add-next-line */
    import {
        AapResourceEntityProvider
    } from '@janus-idp/backstage-plugin-aap-backend';
    export default async function createPlugin(env: PluginEnvironment, ): Promise &lt; Router &gt; {
        const builder = await CatalogBuilder.create(env);
        /* ... other processors and/or providers ... */
        /* highlight-add-start */
        builder.addEntityProvider(AapResourceEntityProvider.fromConfig(env.config, {
            logger: env.logger,
            schedule: env.scheduler.createScheduledTaskRunner({
                frequency: {
                    minutes: 1
                },
                timeout: {
                    minutes: 1
                },
            }),
        }), );
        /* highlight-add-end */
        const {
            processingEngine,
            router
        } = await builder.build();
        await processingEngine.start();
        return router;
    }</pre></li></ol></div></section><section class="section" id="log-lines-for-aap-backend-plugin-troubleshoot"><div class="titlepage"><div><div><h3 class="title">1.1.2. Log lines for AAP Backend plugin troubleshoot</h3></div></div></div><p>
					When you start your Backstage application, you can see the following log lines:
				</p><pre class="programlisting language-log">[1] 2023-02-13T15:26:09.356Z catalog info Discovered ResourceEntity API type=plugin target=AapResourceEntityProvider:dev
[1] 2023-02-13T15:26:09.423Z catalog info Discovered ResourceEntity Red Hat Event (DEV, v1.2.0) type=plugin target=AapResourceEntityProvider:dev
[1] 2023-02-13T15:26:09.620Z catalog info Discovered ResourceEntity Red Hat Event (TEST, v1.1.0) type=plugin target=AapResourceEntityProvider:dev
[1] 2023-02-13T15:26:09.819Z catalog info Discovered ResourceEntity Red Hat Event (PROD, v1.1.0) type=plugin target=AapResourceEntityProvider:dev
[1] 2023-02-13T15:26:09.819Z catalog info Applying the mutation with 3 entities type=plugin target=AapResourceEntityProvider:dev</pre></section></section><section class="section" id="for-users"><div class="titlepage"><div><div><h2 class="title">1.2. For users</h2></div></div></div><section class="section" id="accessing-templates-from-ansible-automation-platform-in-backstage"><div class="titlepage"><div><div><h3 class="title">1.2.1. Accessing templates from Ansible Automation Platform in Backstage</h3></div></div></div><p>
					Once the AAP Backstage provider plugin is configured successfully, it synchronizes the templates including job templates and workflow job templates from AAP and displays them on the Backstage Catalog page as Resources.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Your Backstage application is installed and running.
						</li><li class="listitem">
							You have installed the AAP Backstage provider plugin. For installation and configuration instructions, see <a class="xref" href="#installing-the-configuring-the-aap-backend-plugin" title="1.1.1. Installing the configuring the AAP Backend plugin">Section 1.1.1, “Installing the configuring the AAP Backend plugin”</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Open your Backstage application and Go to the <span class="strong strong"><strong>Catalog</strong></span> page.
						</li><li class="listitem"><p class="simpara">
							Select <span class="strong strong"><strong>Resource</strong></span> from the <span class="strong strong"><strong>Kind</strong></span> drop-down and <span class="strong strong"><strong>job template</strong></span> or <span class="strong strong"><strong>workflow job template</strong></span> from the <span class="strong strong"><strong>Type</strong></span> drop-down on the left side of the page.
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/aap-backend-plugin-user1.png" alt="aap-backend-plugin-backstage"/></div></div><p class="simpara">
							A list of all the available templates from AAP appears on the page.
						</p></li><li class="listitem"><p class="simpara">
							Select a template from the list.
						</p><p class="simpara">
							The <span class="strong strong"><strong>OVERVIEW</strong></span> tab appears containing different cards, such as:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>About</strong></span>: Provides detailed information about the template.
								</li><li class="listitem">
									<span class="strong strong"><strong>Relations</strong></span>: Displays the visual representation of the template and associated aspects.
								</li><li class="listitem">
									<span class="strong strong"><strong>Links</strong></span>: Contains links to the AAP dashboard and the details page of the template.
								</li><li class="listitem">
									<span class="strong strong"><strong>Has subcomponents</strong></span>: Displays a list of associated subcomponents.
								</li></ul></div><div class="informalfigure"><div class="mediaobject"><img src="images/aap-backend-plugin-user2.png" alt="aap-backend-plugin-backstage-details"/></div></div></li></ol></div></section></section></section><section class="chapter" id="azure-container-registry-plugin-for-backstage"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Azure Container Registry plugin for Backstage</h1></div></div></div><p>
			The Azure Container Registry (ACR) plugin displays information about your container images available in the Azure Container Registry.
		</p><section class="section" id="for-administrators-2"><div class="titlepage"><div><div><h2 class="title">2.1. For administrators</h2></div></div></div><section class="section" id="installing-and-configuring-the-acr-plugin"><div class="titlepage"><div><div><h3 class="title">2.1.1. Installing and configuring the ACR plugin</h3></div></div></div><p>
					The Red Hat Plug-ins for Backstage (RHPIB) packages are hosted in a separate NPM registry, which is maintained by Red Hat. To use these packages, you must adjust your NPM configuration to pull the <code class="literal">@redhat</code> scoped packages:
				</p><pre class="screen"># update your .npmrc or .yarnrc file
yarn config set "@redhat:registry" https://npm.registry.redhat.com
# then pull a package
yarn add @redhat/backstage-plugin-quay</pre><p>
					For more information, see <a class="link" href="https://docs.npmjs.com/cli/v9/configuring-npm/npmrc">npm docs</a>.
				</p><p>
					Creating a <code class="literal">.npmrc</code> file ensures that all the packages are scoped under <code class="literal">@redhat</code> and are fetched from <a class="link" href="https://npm.registry.redhat.com/">Red Hat’s NPM registry</a>, while the rest dependencies remain sourced from other <a class="link" href="registry.npmjs.org">registry</a>.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Run the following command to install the ACR plugin:
						</p><pre class="screen">yarn workspace app add @redhat/backstage-plugin-acr</pre></li><li class="listitem"><p class="simpara">
							Set the proxy to the desired ACR server in the <code class="literal">app-config.yaml</code> file as follows:
						</p><pre class="programlisting language-yaml">   # app-config.yaml
   proxy:
     '/acr/api':
       target: 'https://mycontainerregistry.azurecr.io/acr/v1/'
       changeOrigin: true
       headers:
         # If you use Bearer Token for authorization, please replace the 'Basic' with 'Bearer' in the following line.
         Authorization: 'Basic ${ACR_AUTH_TOKEN}'
       # Change to "false" in case of using self hosted artifactory instance with a self-signed certificate
       secure: true</pre></li><li class="listitem"><p class="simpara">
							Set the authorization using one of the following options:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Basic authorization:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											Navigate to the ACR portal and go to the <span class="strong strong"><strong>Access Keys</strong></span> tab.
										</li><li class="listitem">
											Retrieve the username and password of the Admin user and use the <a class="link" href="https://www.debugbear.com/basic-auth-header-generator">Basic Auth Header Generator tool</a> or run <code class="literal">echo printf '&lt;username&gt;:&lt;password&gt;' | base64</code> in a terminal to convert the credentials to a basic token.
										</li><li class="listitem">
											Set the generated token as <code class="literal">ACR_AUTH_TOKEN</code> in environment variables.
										</li></ul></div></li><li class="listitem"><p class="simpara">
									OAuth2:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
											Generate bearer access token using the process described in Authenticate with an Azure Container Registry.
										</p><p class="simpara">
											You can generate a bearer token using your basic authorization token, for example:
										</p><pre class="programlisting language-curl">curl --location 'https://&lt;yourregistry&gt;.azurecr.io/oauth2/token?scope=repository%3A*%3A*&amp;service=&lt;yourregistry&gt;.azurecr.io' \ --header 'Authorization: Basic &lt;basic_token&gt;'</pre></li><li class="listitem">
											Set the generated token as <code class="literal">ACR_AUTH_TOKEN</code> in environment variables. Also ensure that you replace the <code class="literal">Basic</code> with <code class="literal">Bearer</code> in the <code class="literal">app-config.yaml</code> file.
										</li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">
							Enable an additional tab on the entity view page using the <code class="literal">packages/app/src/components/catalog/EntityPage.tsx</code> file as follows:
						</p><pre class="screen">/* highlight-add-start */
import { AcrPage, isAcrAvailable } from '@redhat/backstage-plugin-acr';

/* highlight-add-end */

const serviceEntityPage = (
  &lt;EntityPageLayout&gt;
    // ...
    {/* highlight-add-start */}
    &lt;EntityLayout.Route path="/acr" title="ACR"&gt;
      &lt;Grid container spacing={3} alignItems="stretch"&gt;
        &lt;EntitySwitch&gt;
          &lt;EntitySwitch.Case if={e =&gt; Boolean(isAcrAvailable(e))}&gt;
            &lt;Grid item sm={12}&gt;
              &lt;AcrPage /&gt;
            &lt;/Grid&gt;
          &lt;/EntitySwitch.Case&gt;
        &lt;/EntitySwitch&gt;
      &lt;/Grid&gt;
    &lt;/EntityLayout.Route&gt;
    {/* highlight-add-end */}
  &lt;/EntityPageLayout&gt;
);</pre></li><li class="listitem"><p class="simpara">
							Annotate your entity using the following annotations:
						</p><pre class="programlisting language-yaml">metadata:
    annotations:
        'azure-container-registry/repository-name': `&lt;REPOSITORY-NAME&gt;',</pre></li></ol></div></section></section><section class="section" id="for-users-2"><div class="titlepage"><div><div><h2 class="title">2.2. For users</h2></div></div></div><section class="section" id="using-the-acr-plugin-in-backstage"><div class="titlepage"><div><div><h3 class="title">2.2.1. Using the ACR plugin in Backstage</h3></div></div></div><p>
					ACR is a front-end plugin that enables you to view information about the container images from your Azure Container Registry in Backstage.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Your Backstage application is installed and running.
						</li><li class="listitem">
							You have installed the ACR plugin. For installation instructions, see <a class="xref" href="#installing-and-configuring-the-acr-plugin" title="2.1.1. Installing and configuring the ACR plugin">Section 2.1.1, “Installing and configuring the ACR plugin”</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Open your Backstage application and select a component from the <span class="strong strong"><strong>Catalog</strong></span> page.
						</li><li class="listitem"><p class="simpara">
							Go to the <span class="strong strong"><strong>ACR</strong></span> tab.
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/acr-plugin-user1.png" alt="acr-tab"/></div></div><p class="simpara">
							The <span class="strong strong"><strong>ACR</strong></span> tab in the Backstage UI contains a list of container images and related information, such as <span class="strong strong"><strong>TAG</strong></span>, <span class="strong strong"><strong>CREATED</strong></span>, <span class="strong strong"><strong>LAST MODIFIED</strong></span>, and <span class="strong strong"><strong>MANIFEST</strong></span>.
						</p></li></ol></div></section></section></section><section class="chapter" id="argocd-plugin-for-backstage"><div class="titlepage"><div><div><h1 class="title">Chapter 3. ArgoCD plugin for Backstage</h1></div></div></div><p>
			The ArgoCD plugin represents the current status of an application in your Backstage Catalog.
		</p><section class="section" id="for-administrators-3"><div class="titlepage"><div><div><h2 class="title">3.1. For administrators</h2></div></div></div><section class="section" id="installation-1"><div class="titlepage"><div><div><h3 class="title">3.1.1. Installation</h3></div></div></div><p>
					The Red Hat Plug-ins for Backstage (RHPIB) packages are hosted in a separate NPM registry, which is maintained by Red Hat. To use these packages, you must adjust your NPM configuration to pull the <code class="literal">@redhat</code> scoped packages:
				</p><pre class="screen"># update your .npmrc or .yarnrc file
yarn config set "@redhat:registry" https://npm.registry.redhat.com
# then pull a package
yarn add @redhat/backstage-plugin-quay</pre><p>
					For more information, see <a class="link" href="https://docs.npmjs.com/cli/v9/configuring-npm/npmrc">npm docs</a>.
				</p><p>
					Creating a <code class="literal">.npmrc</code> file ensures that all the packages are scoped under <code class="literal">@redhat</code> and are fetched from <a class="link" href="https://npm.registry.redhat.com/">Red Hat’s NPM registry</a>, while the rest dependencies remain sourced from other <a class="link" href="registry.npmjs.org">registry</a>.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Your Backstage application is installed and deployed.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							In the <code class="literal">backstage/packages/app</code> project, add the ArgoCD plugin as a <code class="literal">package.json</code> dependency as follows:
						</p><pre class="programlisting language-console">cd packages/app
yarn add @redhat/backstage-plugin-argo-cd</pre></li><li class="listitem"><p class="simpara">
							In the <code class="literal">app-config.yaml</code> file available in the root directory, add <code class="literal">argo-cd</code> to the proxy object as follows:
						</p><pre class="programlisting language-yaml">proxy:
  ...

  '/argocd/api':
    # url to the api of your hosted argoCD instance
    target: https://159.65.209.132/api/v1/
    changeOrigin: true
    # this line is required if your hosted argoCD instance has self-signed certificate
    secure: false
    headers:
      Cookie:
        $env: ARGOCD_AUTH_TOKEN


# optional: this will link to your argoCD web UI for each argoCD application
argocd:
  baseUrl: https://my-argocd-web-ui.com</pre><p class="simpara">
							Also, you can optionally add the base URL for your ArgoCD web UI in the previous code.
						</p></li><li class="listitem"><p class="simpara">
							Add the ArgoCD plugin to the list of plugins using the following code:
						</p><pre class="screen">// packages/app/src/plugins.ts
export { argocdPlugin } from '@redhat/backstage-plugin-argo-cd';</pre></li><li class="listitem"><p class="simpara">
							Add the ArgoCD plugin to the <code class="literal">entitityPage.tsx</code> file as follows:
						</p><pre class="screen">// packages/app/src/components/catalog/EntityPage.tsx
import {
  EntityArgoCDHistoryCard,
  isArgocdAvailable,
} from '@redhat/backstage-plugin-argo-cd';


const overviewContent = (
  &lt;Grid container spacing={3} alignItems="stretch"&gt;
    ...
    &lt;EntitySwitch&gt;
      &lt;EntitySwitch.Case if={e =&gt; Boolean(isArgocdAvailable(e))}&gt;
        &lt;Grid item sm={6}&gt;
          &lt;EntityArgoCDHistoryCard /&gt;
        &lt;/Grid&gt;
      &lt;/EntitySwitch.Case&gt;
    &lt;/EntitySwitch&gt;
    ...
  &lt;/Grid&gt;
);</pre></li><li class="listitem"><p class="simpara">
							To use the ArgoCD plugin for your component in Backstage, add an annotation to the YAML config file of a component:
						</p><p class="simpara">
							<code class="literal">argocd/app-name: &lt;app-name&gt;</code>
						</p><p class="simpara">
							To select multiple ArgoCD applications for a component, use labels as follows:
						</p><p class="simpara">
							<code class="literal">argocd/app-selector: &lt;app-selector&gt;</code>
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								You can either use annotations or labels for a component.
							</p></div></div></li><li class="listitem">
							Send a GET HTTP request to ArgoCD’s <code class="literal">/session</code> endpoint using the username and password to acquire your authentication key.
						</li><li class="listitem"><p class="simpara">
							Add the acquired authentication key to the environment variables for your Backstage backend server as follows:
						</p><p class="simpara">
							<code class="literal">ARGOCD_AUTH_TOKEN="argocd.token=&lt;auth-token&gt;"</code>
						</p></li></ol></div></section></section><section class="section" id="support-for-multiple-argocd-instances-in-backstage"><div class="titlepage"><div><div><h2 class="title">3.2. Support for multiple ArgoCD instances in Backstage</h2></div></div></div><p>
				There are two options to support multiple ArgoCD instances in Backstage, including:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Adding proxy configuration for each ArgoCD instance
					</li><li class="listitem">
						Using the ArgoCD backend plugin
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Option 1: Adding proxy configuration for each ArgoCD instance</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To create multiple components that fetch data from different ArgoCD instances, add a proxy configuration for each instance as shown in the following example:
					</p><pre class="programlisting language-yaml">proxy:
  ...

  '/argocd/api':
    target: https://&lt;someAddress&gt;/api/v1/
    changeOrigin: true
    secure: false
    headers:
      Cookie:
        $env: ARGOCD_AUTH_TOKEN

  '/argocd/api2':
    target: https://&lt;otherAddress&gt;/api/v1/
    changeOrigin: true
    secure: false
    headers:
      Cookie:
        $env: ARGOCD_AUTH_TOKEN2</pre></li><li class="listitem"><p class="simpara">
						Add the required authentication tokens to environment variables, such as <code class="literal">ARGOCD_AUTH_TOKEN2</code>.
					</p><p class="simpara">
						After adding the authentication tokens, add the URL to the desired proxy path in the following component definition annotations:
					</p><p class="simpara">
						<code class="literal">argocd/proxy-url: '/argocd/api2'</code>
					</p><p class="simpara">
						The <code class="literal">argocd/proxy-url</code> annotation defaults to <code class="literal">'/argocd/api'</code>. Therefore, <code class="literal">argocd/proxy-url</code> is not required if there is a single proxy configuration.
					</p></li></ol></div><div class="orderedlist"><p class="title"><strong>Option 2: Using the ArgoCD backend plugin</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To create multiple components that fetch data from different ArgoCD instances, set the ArgoCD instance URL dynamically by adding the following configuration to <code class="literal">app-config.yaml</code> file:
					</p><pre class="programlisting language-yaml">argocd:
  username: ${ARGOCD_USERNAME}
  password: ${ARGOCD_PASSWORD}
  waitCycles: 25
  appLocatorMethods:
    - type: 'config'
      instances:
        - name: argoInstance1
          url: https://argoInstance1.com
          token: ${ARGOCD_AUTH_TOKEN} # optional
        - name: argoInstance2
          url: https://argoInstance2.com
          # dedicated username/password for this instance
          username: ${ARGOCD_USERNAME_INSTANCE_2} # optional
          password: ${ARGOCD_PASSWORD_INSTANCE_2} # optional</pre><p class="simpara">
						A loop is created between deleting ArgoCD project and application to check the deletion of application occurring before the deletion of the project. If waitCycles is set to 25, then the loop can last for 75 seconds before erroring out.
					</p><p class="simpara">
						With the previous configuration, the ArgoCD plugin fetches the ArgoCD instances an application is deployed to and use the ArgoCD backend plugin (<code class="literal">backstage-plugin-argo-cd-backend</code>) to reach out to each ArgoCD instance based on the following mapping:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Add the required authentication tokens to environment variables, such as <code class="literal">ARGOCD_USERNAME</code> and <code class="literal">ARGOCD_PASSWORD</code> inside the argocd object. These authentication tokens are used as credentials for all ArgoCD instances by default.
							</p><pre class="screen">argocd:
  username: ${ARGOCD_USERNAME}
  password: ${ARGOCD_PASSWORD}
  appLocatorMethods:
    - type: 'config'
      instances:
        - name: argoInstance1
          url: https://argoInstance1.com
        - name: argoInstance2
          url: https://argoInstance2.com</pre></li><li class="listitem"><p class="simpara">
								Define a username and password for each ArgoCD instance. This mapping has higher priority than the previous option.
							</p><pre class="screen">argocd:
  username: ${ARGOCD_USERNAME}
  password: ${ARGOCD_PASSWORD}
  appLocatorMethods:
    - type: 'config'
      instances:
        - name: argoInstance1
          url: https://argoInstance1.com
        - name: argoInstance2
          url: https://argoInstance2.com
          # dedicated username/password for this instance
          username: ${ARGOCD_USERNAME_INSTANCE_2}
          password: ${ARGOCD_PASSWORD_INSTANCE_2}</pre></li><li class="listitem"><p class="simpara">
								Define a token for each instance. This mapping has higher priority than both options mentioned previously.
							</p><pre class="screen">argocd:
  username: ${ARGOCD_USERNAME}
  password: ${ARGOCD_PASSWORD}
  appLocatorMethods:
    - type: 'config'
      instances:
        - name: argoInstance1
          url: https://argoInstance1.com
          token: ${ARGOCD_AUTH_TOKEN} # Token to use to instance 1</pre></li></ul></div></li></ol></div><section class="section" id="permissions-in-argocd-plugin"><div class="titlepage"><div><div><h3 class="title">3.2.1. Permissions in ArgoCD plugin</h3></div></div></div><p>
					Setting permissions for ArgoCD user account not only reduces the scope but also reduces the functionality of the backend. If you scope the permissions for read-only, then actions including creating, deleting, and resyncing the application will not be available.
				</p><p>
					The error handling in ArgoCD is designed to alert you when proper permissions are not in place.
				</p></section><section class="section" id="self-signed-certificates-in-argocd-plugin"><div class="titlepage"><div><div><h3 class="title">3.2.2. Self-signed certificates in ArgoCD plugin</h3></div></div></div><p>
					By default, the ArgoCD server generates a self-signed certificate. Once you install the ArgoCD plugin, the deployment of argocd-server can be patched to be insecure using the following command:
				</p><pre class="programlisting language-console">kubectl patch deployment argocd-server --type "json" -p '[{"op":"add","path":"/spec/template/spec/containers/0/command/-","value":"--insecure"}]'</pre><p>
					Also, you can use Helm to install the ArgoCD plugin and be insecure by default:
				</p><pre class="programlisting language-console">helm upgrade --install argocd argo/argo-cd \
  --version 3.33.5 \
  --set 'server.extraArgs={--insecure}'</pre></section></section><section class="section" id="for-users-3"><div class="titlepage"><div><div><h2 class="title">3.3. For users</h2></div></div></div><section class="section" id="using-argocd-plugin-in-backstage"><div class="titlepage"><div><div><h3 class="title">3.3.1. Using ArgoCD plugin in Backstage</h3></div></div></div><p>
					The ArgoCD plugin displays the current state of an application in Backstage Catalog.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Your Backstage application is installed and running.
						</li><li class="listitem">
							You have installed the ArgoCD plugin. For installation steps, see <a class="xref" href="#installation-1" title="3.1.1. Installation">Section 3.1.1, “Installation”</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Open your Backstage application and go to the <span class="strong strong"><strong>Catalog</strong></span> page.
						</li><li class="listitem"><p class="simpara">
							In the <span class="strong strong"><strong>OVERVIEW</strong></span> tab, you can see the ArgoCD overview card at the bottom.
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/argo-cd-plugin-overview-card.png" alt="ArgoCD overview card"/></div></div><p class="simpara">
							The ArgoCD overview card displays application information including <span class="strong strong"><strong>NAME</strong></span>, <span class="strong strong"><strong>INSTANCE</strong></span>, <span class="strong strong"><strong>SYNC STATUS</strong></span>, <span class="strong strong"><strong>HEALTH STATUS</strong></span>, and <span class="strong strong"><strong>LAST SYNCED</strong></span>.
						</p></li><li class="listitem"><p class="simpara">
							To view the detailed application information, select an application from the ArgoCD overview card.
						</p><p class="simpara">
							A pop-up containing detailed information about the application appears, along with a link to ArgoCD dashboard.
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/argo-cd-plugin-overview-card-details.png" alt="ArgoCD overview card"/></div></div></li><li class="listitem"><p class="simpara">
							To view the ArgoCD history, go to the <span class="strong strong"><strong>CD</strong></span> tab in the Catalog.
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/argo-cd-plugin-history.png" alt="ArgoCD overview card"/></div></div><p class="simpara">
							The <span class="strong strong"><strong>ArgoCD history</strong></span> page contains history of application instances along with other information, such as deploy details, author name, message that author added, and revision ID.
						</p></li></ol></div></section></section></section><section class="chapter" id="jfrog-artifactory-plugin-for-backstage"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Jfrog Artifactory plugin for Backstage</h1></div></div></div><p>
			The Jfrog Artifactory plugin displays information about your container images within the Jfrog Artifactory registry.
		</p><section class="section" id="for-administrators-4"><div class="titlepage"><div><div><h2 class="title">4.1. For administrators</h2></div></div></div><section class="section" id="installing-and-configuring-the-jfrog-artifactory-plugin"><div class="titlepage"><div><div><h3 class="title">4.1.1. Installing and configuring the Jfrog Artifactory plugin</h3></div></div></div><p>
					The Red Hat Plug-ins for Backstage (RHPIB) packages are hosted in a separate NPM registry, which is maintained by Red Hat. To use these packages, you must adjust your NPM configuration to pull the <code class="literal">@redhat</code> scoped packages:
				</p><pre class="screen"># update your .npmrc or .yarnrc file
yarn config set "@redhat:registry" https://npm.registry.redhat.com
# then pull a package
yarn add @redhat/backstage-plugin-quay</pre><p>
					For more information, see <a class="link" href="https://docs.npmjs.com/cli/v9/configuring-npm/npmrc">npm docs</a>.
				</p><p>
					Creating a <code class="literal">.npmrc</code> file ensures that all the packages are scoped under <code class="literal">@redhat</code> and are fetched from <a class="link" href="https://npm.registry.redhat.com/">Red Hat’s NPM registry</a>, while the rest dependencies remain sourced from other <a class="link" href="registry.npmjs.org">registry</a>.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Run the following command to install the Jfrog Artifactory plugin:
						</p><pre class="programlisting language-console">yarn workspace app add @redhat/backstage-plugin-jfrog-artifactory</pre></li><li class="listitem"><p class="simpara">
							Set the proxy to the desired Artifactory server in the <code class="literal">app-config.yaml</code> file as follows:
						</p><pre class="programlisting language-yaml">proxy:
    '/jfrog-artifactory/api':
    target: 'http://&lt;hostname&gt;:8082' # or https://&lt;customer&gt;.jfrog.io
    headers:
        # Authorization: 'Bearer &lt;YOUR TOKEN&gt;'
        # Change to "false" in case of using self hosted artifactory instance with a self-signed certificate
    secure: true</pre></li><li class="listitem"><p class="simpara">
							Enable the <span class="strong strong"><strong>JFROG ARTIFACTORY</strong></span> tab on the entity view page in <code class="literal">packages/app/src/components/catalog/EntityPage.tsx</code> file as follows:
						</p><pre class="screen">/* highlight-add-start */
import {
    isJfrogArtifactoryAvailable,
    JfrogArtifactoryPage,
} from "@redhat/backstage-plugin-jfrog-artifactory";

/* highlight-add-end */

const serviceEntityPage = (
    &lt;EntityPageLayout&gt;
        // ...
        {/* highlight-add-start */}
        &lt;EntityLayout.Route
            if={isJfrogArtifactoryAvailable}
            path="/jfrog-artifactory"
            title="Jfrog Artifactory"
        &gt;
            &lt;JfrogArtifactoryPage /&gt;
        &lt;/EntityLayout.Route&gt;
        {/* highlight-add-end */}
    &lt;/EntityPageLayout&gt;
);</pre></li><li class="listitem"><p class="simpara">
							Annotate your entity using the following annotations:
						</p><pre class="programlisting language-yaml">metadata:
    annotations:
        'jfrog-artifactory/image-name': '&lt;IMAGE-NAME&gt;'</pre></li></ol></div></section></section><section class="section" id="for-users-4"><div class="titlepage"><div><div><h2 class="title">4.2. For users</h2></div></div></div><section class="section" id="using-the-jfrog-artifactory-plugin-in-backstage"><div class="titlepage"><div><div><h3 class="title">4.2.1. Using the Jfrog Artifactory plugin in Backstage</h3></div></div></div><p>
					Jfrog Artifactory is a front-end plugin that enables you to view the information about the container images that are available in your Jfrog Artifactory registry.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Your Backstage application is installed and running.
						</li><li class="listitem">
							You have installed the Jfrog Artifactory plugin. For installation and configuration steps, see <a class="xref" href="#installing-and-configuring-the-jfrog-artifactory-plugin" title="4.1.1. Installing and configuring the Jfrog Artifactory plugin">Section 4.1.1, “Installing and configuring the Jfrog Artifactory plugin”</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Open your Backstage application and select a component from the <span class="strong strong"><strong>Catalog</strong></span> page.
						</li><li class="listitem"><p class="simpara">
							Go to the <span class="strong strong"><strong>JFROG ARTIFACTORY</strong></span> tab.
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/jfrog-plugin-user1.png" alt="jfrog-tab"/></div></div><p class="simpara">
							The <span class="strong strong"><strong>JFROG ARTIFACTORY</strong></span> tab contains a list of container images and related information, such as <span class="strong strong"><strong>VERSION</strong></span>, <span class="strong strong"><strong>REPOSITORIES</strong></span>, <span class="strong strong"><strong>MANIFEST</strong></span>, <span class="strong strong"><strong>MODIFIED</strong></span>, and <span class="strong strong"><strong>SIZE</strong></span>.
						</p></li></ol></div></section></section></section><section class="chapter" id="keycloak-backend-plugin-for-backstage"><div class="titlepage"><div><div><h1 class="title">Chapter 5. Keycloak backend plugin for Backstage</h1></div></div></div><p>
			The Keycloak backend plugin integrates Keycloak into Backstage.
		</p><section class="section" id="capabilities"><div class="titlepage"><div><div><h2 class="title">5.1. Capabilities</h2></div></div></div><p>
				The Keycloak backend plugin has the following capabilities:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Synchronization of Keycloak users in a realm
					</li><li class="listitem">
						Synchronization of Keycloak groups and their users in a realm
					</li></ul></div></section><section class="section" id="for-administrators-5"><div class="titlepage"><div><div><h2 class="title">5.2. For administrators</h2></div></div></div><section class="section" id="installation-2"><div class="titlepage"><div><div><h3 class="title">5.2.1. Installation</h3></div></div></div><p>
					The Red Hat Plug-ins for Backstage (RHPIB) packages are hosted in a separate NPM registry, which is maintained by Red Hat. To use these packages, you must adjust your NPM configuration to pull the <code class="literal">@redhat</code> scoped packages:
				</p><pre class="screen"># update your .npmrc or .yarnrc file
yarn config set "@redhat:registry" https://npm.registry.redhat.com
# then pull a package
yarn add @redhat/backstage-plugin-quay</pre><p>
					For more information, see <a class="link" href="https://docs.npmjs.com/cli/v9/configuring-npm/npmrc">npm docs</a>.
				</p><p>
					Creating a <code class="literal">.npmrc</code> file ensures that all the packages are scoped under <code class="literal">@redhat</code> and are fetched from <a class="link" href="https://npm.registry.redhat.com/">Red Hat’s NPM registry</a>, while the rest dependencies remain sourced from other <a class="link" href="registry.npmjs.org">registry</a>.
				</p><p>
					You can now install the Backstage package into the backend. When not integrating with a published package, clone the repository locally and add Backstage as follows:
				</p><pre class="programlisting language-console">yarn workspace backend add @redhat/backstage-plugin-keycloak-backend</pre></section><section class="section" id="configuration"><div class="titlepage"><div><div><h3 class="title">5.2.2. Configuration</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the following configuration to the <code class="literal">app-config.yaml</code> file:
						</p><pre class="programlisting language-yaml">   ```yaml title="app-config.yaml"
   catalog:
     providers:
       keycloakOrg:
         default:
           baseUrl: https://&lt;keycloak_host&gt;/auth
           loginRealm: ${KEYCLOAK_REALM}
           realm: ${KEYCLOAK_REALM}
           clientId: ${KEYCLOAK_CLIENTID}
           clientSecret: ${KEYCLOAK_CLIENTSECRET}
   ```</pre></li><li class="listitem"><p class="simpara">
							Register the plugin in the <code class="literal">packages/backend/src/plugins/catalog.ts</code> file. You can also configure a schedule in this step. However, there are possible ways of configuration, such as:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Configure a schedule inside the <code class="literal">app-config.yaml</code> file:
								</p><pre class="programlisting language-yaml">     ```yaml title="app-config.yaml"
     catalog:
       providers:
         keycloakOrg:
           default:
             # ...
             # highlight-add-start
             schedule: # optional; same options as in TaskScheduleDefinition
               # supports cron, ISO duration, "human duration" as used in code
               frequency: { minutes: 1 }
               # supports ISO duration, "human duration" as used in code
               timeout: { minutes: 1 }
               initialDelay: { seconds: 15 }
               # highlight-add-end
     ```</pre><p class="simpara">
									Use the configured scheduler inside the <code class="literal">packages/backend/src/plugins/catalog.ts</code> as follows:
								</p><pre class="screen">     ```ts title="packages/backend/src/plugins/catalog.ts"
     /* highlight-add-start */
     import { KeycloakOrgEntityProvider } from '@redhat/backstage-plugin-keycloak-backend';

     /* highlight-add-end */

     export default async function createPlugin(
       env: PluginEnvironment,
     ): Promise&lt;Router&gt; {
       const builder = await CatalogBuilder.create(env);

       /* ... other processors and/or providers ... */
       /* highlight-add-start */
       builder.addEntityProvider(
         KeycloakOrgEntityProvider.fromConfig(env.config, {
           id: 'development',
           logger: env.logger,
           scheduler: env.scheduler,
         }),
       );
       /* highlight-add-end */

       const { processingEngine, router } = await builder.build();
       await processingEngine.start();
       return router;
     }</pre></li><li class="listitem"><p class="simpara">
									Add a schedule directly inside the <code class="literal">packages/backend/src/plugins/catalog.ts</code> file as follows:
								</p><pre class="screen">     ```ts title="packages/backend/src/plugins/catalog.ts"
     + import { KeycloakOrgEntityProvider } from '@redhat/backstage-plugin-keycloak-backend';

     export default async function createPlugin(
       env: PluginEnvironment,
     ): Promise&lt;Router&gt; {
       const builder = await CatalogBuilder.create(env);

       /* ... other processors and/or providers ... */
       builder.addEntityProvider(
         KeycloakOrgEntityProvider.fromConfig(env.config, {
           id: 'development',
           logger: env.logger,
           /* highlight-add-start */
           schedule: env.scheduler.createScheduledTaskRunner({
             frequency: { minutes: 1 },
             timeout: { minutes: 1 },
             initialDelay: { seconds: 15 }
           }),
           /* highlight-add-end */
         }),
       )

       const { processingEngine, router } = await builder.build();
       await processingEngine.start();
       return router;
     }
     ```</pre></li></ul></div></li><li class="listitem"><p class="simpara">
							Optional: override the default Keycloak query parameters. Configure the parameters inside the <code class="literal">app-config.yaml</code> file:
						</p><pre class="programlisting language-yaml">   ```yaml title="app-config.yaml"
   catalog:
     providers:
       keycloakOrg:
         default:
           # ...
           # highlight-add-start
           userQuerySize: 500 # Optional
           groupQuerySize: 250 # Optional
           # highlight-add-end
   ```</pre><p class="simpara">
							Communication between Backstage and Keycloak is enabled by using the Keycloak API. Username/password or client credentials are supported authentication methods.
						</p></li></ol></div><p>
					The following table describes the parameters that you can configure to enable the plugin under <code class="literal">catalog.providers.keycloakOrg.&lt;ENVIRONMENT_NAME&gt;</code> object in the <code class="literal">app-config.yaml</code> file:
				</p><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"/><col style="width: 25%; " class="col_2"/><col style="width: 25%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th align="left" valign="top" id="idm46687269854848" scope="col">Name</th><th align="left" valign="top" id="idm46687269853760" scope="col">Description</th><th align="left" valign="top" id="idm46687273693040" scope="col">Default Value</th><th align="left" valign="top" id="idm46687273691952" scope="col">Required</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46687269854848">
								<p>
									<code class="literal">baseUrl</code>
								</p>
								</td><td align="left" valign="top" headers="idm46687269853760">
								<p>
									Location of the Keycloak server, such as <code class="literal"><a class="link" href="https://localhost:8443/auth">https://localhost:8443/auth</a></code>. Note that the newer versions of Keycloak omit the <code class="literal">/auth</code> context path.
								</p>
								</td><td align="left" valign="top" headers="idm46687273693040">
								<p>
									""
								</p>
								</td><td align="left" valign="top" headers="idm46687273691952">
								<p>
									Yes
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46687269854848">
								<p>
									<code class="literal">realm</code>
								</p>
								</td><td align="left" valign="top" headers="idm46687269853760">
								<p>
									Realm to synchronize
								</p>
								</td><td align="left" valign="top" headers="idm46687273693040">
								<p>
									<code class="literal">master</code>
								</p>
								</td><td align="left" valign="top" headers="idm46687273691952">
								<p>
									No
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46687269854848">
								<p>
									<code class="literal">loginRealm</code>
								</p>
								</td><td align="left" valign="top" headers="idm46687269853760">
								<p>
									Realm used to authenticate
								</p>
								</td><td align="left" valign="top" headers="idm46687273693040">
								<p>
									<code class="literal">master</code>
								</p>
								</td><td align="left" valign="top" headers="idm46687273691952">
								<p>
									No
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46687269854848">
								<p>
									<code class="literal">username</code>
								</p>
								</td><td align="left" valign="top" headers="idm46687269853760">
								<p>
									Username to authenticate
								</p>
								</td><td align="left" valign="top" headers="idm46687273693040">
								<p>
									""
								</p>
								</td><td align="left" valign="top" headers="idm46687273691952">
								<p>
									Yes if using password based authentication
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46687269854848">
								<p>
									<code class="literal">password</code>
								</p>
								</td><td align="left" valign="top" headers="idm46687269853760">
								<p>
									Password to authenticate
								</p>
								</td><td align="left" valign="top" headers="idm46687273693040">
								<p>
									""
								</p>
								</td><td align="left" valign="top" headers="idm46687273691952">
								<p>
									Yes if using password based authentication
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46687269854848">
								<p>
									<code class="literal">clientId</code>
								</p>
								</td><td align="left" valign="top" headers="idm46687269853760">
								<p>
									Client ID to authenticate
								</p>
								</td><td align="left" valign="top" headers="idm46687273693040">
								<p>
									""
								</p>
								</td><td align="left" valign="top" headers="idm46687273691952">
								<p>
									Yes if using client credentials based authentication
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46687269854848">
								<p>
									<code class="literal">clientSecret</code>
								</p>
								</td><td align="left" valign="top" headers="idm46687269853760">
								<p>
									Client Secret to authenticate
								</p>
								</td><td align="left" valign="top" headers="idm46687273693040">
								<p>
									""
								</p>
								</td><td align="left" valign="top" headers="idm46687273691952">
								<p>
									Yes if using client credentials based authentication
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46687269854848">
								<p>
									<code class="literal">userQuerySize</code>
								</p>
								</td><td align="left" valign="top" headers="idm46687269853760">
								<p>
									Number of users to query at a time
								</p>
								</td><td align="left" valign="top" headers="idm46687273693040">
								<p>
									<code class="literal">100</code>
								</p>
								</td><td align="left" valign="top" headers="idm46687273691952">
								<p>
									No
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46687269854848">
								<p>
									<code class="literal">groupQuerySize</code>
								</p>
								</td><td align="left" valign="top" headers="idm46687269853760">
								<p>
									Number of groups to query at a time
								</p>
								</td><td align="left" valign="top" headers="idm46687273693040">
								<p>
									<code class="literal">100</code>
								</p>
								</td><td align="left" valign="top" headers="idm46687273691952">
								<p>
									No
								</p>
								</td></tr></tbody></table></div><p>
					When using client credentials, the access type must be set to <code class="literal">confidential</code> and service accounts must be enabled. You must also add the following roles from the <code class="literal">realm-management</code> client role:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">query-groups</code>
						</li><li class="listitem">
							<code class="literal">query-users</code>
						</li><li class="listitem">
							<code class="literal">view-users</code>
						</li></ul></div></section><section class="section" id="limitations"><div class="titlepage"><div><div><h3 class="title">5.2.3. Limitations</h3></div></div></div><p>
					If you have self-signed or corporate certificate issues, you can set the following environment variable before starting Backstage:
				</p><p>
					<code class="literal">NODE_TLS_REJECT_UNAUTHORIZED=0</code>
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The solution of setting the environment variable is not recommended.
					</p></div></div></section></section><section class="section" id="for-users-5"><div class="titlepage"><div><div><h2 class="title">5.3. For users</h2></div></div></div><section class="section" id="imported-users-and-groups-in-backstage-using-keycloak-plugin"><div class="titlepage"><div><div><h3 class="title">5.3.1. Imported users and groups in Backstage using Keycloak plugin</h3></div></div></div><p>
					After configuring the plugin successfully, the plugin imports the users and groups each time when started.
				</p><p>
					After the first import is complete, you can select <span class="strong strong"><strong>User</strong></span> to list the users from the catalog page:
				</p><div class="informalfigure"><div class="mediaobject"><img src="images/users.jpg" alt="catalog-list"/></div></div><p>
					You can see the list of users on the page:
				</p><div class="informalfigure"><div class="mediaobject"><img src="images/user-list.jpg" alt="user-list"/></div></div><p>
					When you select a user, you can see the information imported from Keycloak:
				</p><div class="informalfigure"><div class="mediaobject"><img src="images/user2.jpg" alt="user-profile"/></div></div><p>
					You can also select a group, view the list, and select or view the information imported from Keycloak for a group:
				</p><div class="informalfigure"><div class="mediaobject"><img src="images/group1.jpg" alt="group-profile"/></div></div></section></section></section><section class="chapter" id="nexus-repository-manager-plugin-for-backstage"><div class="titlepage"><div><div><h1 class="title">Chapter 6. Nexus Repository Manager plugin for Backstage</h1></div></div></div><p>
			The Nexus Repository Manager plugin displays the information about your build artifacts in your Backstage application. The build artifacts are available in the Nexus Repository Manager.
		</p><section class="section" id="for-administrators-6"><div class="titlepage"><div><div><h2 class="title">6.1. For administrators</h2></div></div></div><section class="section" id="installing-and-configuring-the-nexus-repository-manager-plugin"><div class="titlepage"><div><div><h3 class="title">6.1.1. Installing and configuring the Nexus Repository Manager plugin</h3></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Run the following command to install the Nexus Repository Manager plugin:
						</p><pre class="programlisting language-console">yarn workspace app add @redhat/backstage-plugin-nexus-repository-manager</pre></li><li class="listitem"><p class="simpara">
							Set the proxy to the desired Nexus Repository Manager server in the <code class="literal">app-config.yaml</code> file as follows:
						</p><pre class="programlisting language-yaml">proxy:
    '/nexus-repository-manager':
    target: 'https://&lt;NEXUS_REPOSITORY_MANAGER_URL&gt;'
    headers:
        X-Requested-With: 'XMLHttpRequest'
        # Uncomment the following line to access a private Nexus Repository Manager using a token
        # Authorization: 'Bearer &lt;YOUR TOKEN&gt;'
    changeOrigin: true
    # Change to "false" in case of using self hosted Nexus Repository Manager instance with a self-signed certificate
    secure: true</pre></li><li class="listitem"><p class="simpara">
							Optional: Change the base URL of Nexus Repository Manager proxy as follows:
						</p><pre class="programlisting language-yaml">nexusRepositoryManager:
    # default path is `/nexus-repository-manager`
    proxyPath: /custom-path</pre></li><li class="listitem"><p class="simpara">
							Optional: Enable the following experimental annotations:
						</p><pre class="programlisting language-yaml">nexusRepositoryManager:
    experimentalAnnotations: true</pre><p class="simpara">
							Replace the <code class="literal">isNexusRepositoryManagerAvailable</code> import with <code class="literal">isNexusRepositoryManagerExperimentalAvailable</code> when adding the <code class="literal">&lt;NexusRepositoryManagerPage /&gt;</code> component.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The annotations mentioned in this step are not thoroughly tested.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Enable an additional tab on the entity view page in <code class="literal">packages/app/src/components/catalog/EntityPage.tsx</code> file as follows:
						</p><pre class="screen">/* highlight-add-next-line */
import {
    isNexusRepositoryManagerAvailable,
    NexusRepositoryManagerPage,
} from "@redhat/backstage-plugin-nexus-repository-manager";

const serviceEntityPage = (
    &lt;EntityPageLayout&gt;
        {/* ... */}
        {/* highlight-add-next-line */}
        &lt;EntityLayout.Route
            if={isNexusRepositoryManagerAvailable}
            path="/build-artifacts"
            title="Build Artifacts"
        &gt;
            &lt;NexusRepositoryManagerPage /&gt;
        &lt;/EntityLayout.Route&gt;
    &lt;/EntityPageLayout&gt;
);</pre></li><li class="listitem"><p class="simpara">
							Annotate your entity using the following annotations:
						</p><pre class="programlisting language-yaml">metadata:
    annotations:
    # insert the chosen annotations here
    # example
    nexus-repository-manager/docker.image-name: `&lt;ORGANIZATION&gt;/&lt;REPOSITORY&gt;`,</pre></li></ol></div></section></section><section class="section" id="for-users-6"><div class="titlepage"><div><div><h2 class="title">6.2. For users</h2></div></div></div><section class="section" id="using-the-nexus-repository-manager-plugin-in-backstage"><div class="titlepage"><div><div><h3 class="title">6.2.1. Using the Nexus Repository Manager plugin in Backstage</h3></div></div></div><p>
					The Nexus Repository Manager is a front-end plugin that enables you to view the information about build artifacts.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Your Backstage application is installed and running.
						</li><li class="listitem">
							You have installed the Nexus Repository Manager plugin. For the installation process, see <a class="xref" href="#installing-and-configuring-the-nexus-repository-manager-plugin" title="6.1.1. Installing and configuring the Nexus Repository Manager plugin">Section 6.1.1, “Installing and configuring the Nexus Repository Manager plugin”</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Open your Backstage application and select a component from the <span class="strong strong"><strong>Catalog</strong></span> page.
						</li><li class="listitem"><p class="simpara">
							Go to the <span class="strong strong"><strong>BUILD ARTIFACTS</strong></span> tab.
						</p><p class="simpara">
							The <span class="strong strong"><strong>BUILD ARTIFACTS</strong></span> tab contains a list of build artifacts and related information, such as <span class="strong strong"><strong>VERSION</strong></span>, <span class="strong strong"><strong>REPOSITORY</strong></span>, <span class="strong strong"><strong>REPOSITORY TYPE</strong></span>, <span class="strong strong"><strong>MANIFEST</strong></span>, <span class="strong strong"><strong>MODIFIED</strong></span>, and <span class="strong strong"><strong>SIZE</strong></span>.
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/nexus-repository-manager.png" alt="nexus-repository-manager-tab"/></div></div></li></ol></div></section></section></section><section class="chapter" id="open-cluster-management-plugin-for-backstage"><div class="titlepage"><div><div><h1 class="title">Chapter 7. Open Cluster Management plugin for Backstage</h1></div></div></div><p>
			The Open Cluster Management (OCM) plugin integrates your Backstage instance with the <code class="literal">MultiClusterHub</code> and <code class="literal">MultiCluster</code> engines of OCM.
		</p><section class="section" id="capabilities-2"><div class="titlepage"><div><div><h2 class="title">7.1. Capabilities</h2></div></div></div><p>
				The OCM plugin has the following capabilities:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						All clusters represented as <code class="literal">ManagedCluster</code> in <code class="literal">MultiClusterHub</code> or MCE are discovered and imported into the Backstage catalog, such as:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Entity is defined as <code class="literal">kind: Resource</code> with <code class="literal">spec.type</code> set to <code class="literal">kubernetes-cluster</code>.
							</li><li class="listitem">
								Links to the OpenShift Container Platform (OCP) console, OCM console, and OpenShift Cluster Manager are provided in <code class="literal">metadata.links</code>.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Shows real-time data from OCM on the Resource entity page, including:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Cluster current status (up or down)
							</li><li class="listitem">
								Cluster nodes status (up or down)
							</li><li class="listitem">
								Cluster details (console link, OCP, and Kubernetes version)
							</li><li class="listitem">
								Details about available compute resources on the cluster
							</li></ul></div></li></ul></div></section><section class="section" id="for-administrators-7"><div class="titlepage"><div><div><h2 class="title">7.2. For administrators</h2></div></div></div><section class="section" id="installation-3"><div class="titlepage"><div><div><h3 class="title">7.2.1. Installation</h3></div></div></div><p>
					The Red Hat Plug-ins for Backstage (RHPIB) packages are hosted in a separate NPM registry, which is maintained by Red Hat. To use these packages, you must adjust your NPM configuration to pull the <code class="literal">@redhat</code> scoped packages:
				</p><pre class="screen"># update your .npmrc or .yarnrc file
yarn config set "@redhat:registry" https://npm.registry.redhat.com
# then pull a package
yarn add @redhat/backstage-plugin-quay</pre><p>
					For more information, see <a class="link" href="https://docs.npmjs.com/cli/v9/configuring-npm/npmrc">npm docs</a>.
				</p><p>
					Creating a <code class="literal">.npmrc</code> file ensures that all the packages are scoped under <code class="literal">@redhat</code> and are fetched from <a class="link" href="https://npm.registry.redhat.com/">Red Hat’s NPM registry</a>, while the rest dependencies remain sourced from other <a class="link" href="registry.npmjs.org">registry</a>.
				</p><p>
					Using this configuration, you can proceed with the installation of the individual packages.
				</p><p>
					The OCM plugin is composed of two packages, including:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">@redhat/backstage-plugin-ocm-backend</code> package connects the Backstage server to OCM. For setup process, see <a class="xref" href="#setting-up-the-ocm-backend-package" title="7.2.1.2. Setting up the OCM backend package">Section 7.2.1.2, “Setting up the OCM backend package”</a> section.
						</li><li class="listitem">
							The <code class="literal">@redhat/backstage-plugin-ocm</code> package, which contains frontend components requires the <code class="literal">\*-backend</code> package to be present and properly set up. For detailed instructions on setting up the backend, refer to the <a class="xref" href="#setting-up-the-ocm-frontend-package" title="7.2.1.3. Setting up the OCM frontend package">Section 7.2.1.3, “Setting up the OCM frontend package”</a> section.
						</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you are interested in Resource discovery and do not want any of the front-end components, then you can install and configure the <code class="literal">@redhat/backstage-plugin-ocm-backend</code> package only.
					</p></div></div><section class="section" id="prerequisites"><div class="titlepage"><div><div><h4 class="title">7.2.1.1. Prerequisites</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								OCM is deployed and configured on a Kubernetes cluster.
							</li><li class="listitem">
								<a class="link" href="https://backstage.io/docs/features/kubernetes">Kubernetes plugin for Backstage</a> is installed.
							</li><li class="listitem"><p class="simpara">
								A <code class="literal">ClusterRole</code> is granted to <code class="literal">ServiceAccount</code> accessing the hub cluster as follows:
							</p><pre class="programlisting language-yaml">  kind: ClusterRole
  apiVersion: rbac.authorization.k8s.io/v1
  metadata:
    name: backstage-ocm-plugin
  rules:
    - apiGroups:
        - cluster.open-cluster-management.io
      resources:
        - managedclusters
      verbs:
        - get
        - watch
        - list
    - apiGroups:
        - internal.open-cluster-management.io
      resources:
        - managedclusterinfos
      verbs:
        - get
        - watch
        - list</pre></li></ul></div></section><section class="section" id="setting-up-the-ocm-backend-package"><div class="titlepage"><div><div><h4 class="title">7.2.1.2. Setting up the OCM backend package</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Install the OCM backend plugin using the following command:
							</p><pre class="programlisting language-console">yarn workspace backend add @redhat/backstage-plugin-ocm-backend</pre></li><li class="listitem"><p class="simpara">
								Configure the OCM backend plugin using one of the following configurations:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
										The OCM configuration provides the information about your hub. To use the OCM configuration, add the following code to your <code class="literal">app-config.yaml</code> file:
									</p><pre class="programlisting language-yaml">`yaml title="app-config.yaml"
     catalog:
       providers:
         ocm:
           env: # Key is reflected as provider ID. Defines and claims plugin instance ownership of entities
             name: # Name that the hub cluster will assume in Backstage Catalog (in OCM this is always local-cluster which can be confusing)
             url: # Url of the hub cluster API endpoint
             serviceAccountToken: # Token used for querying data from the hub
             skipTLSVerify: # Skip TLS certificate verification, defaults to false
             caData: # Base64-encoded CA bundle in PEM format</pre></li><li class="listitem"><p class="simpara">
										If the Backstage Kubernetes plugin is installed and configured to connect to the hub cluster, then you can bind the both hub and Kubernetes configuration by providing the name of the hub in the <code class="literal">app-config.yaml</code> as follows:
									</p><pre class="programlisting language-yaml">```yaml title="app-config.yaml"
     kubernetes:
       serviceLocatorMethod:
         type: 'multiTenant'
       clusterLocatorMethods:
         - type: 'config'
           clusters:
             # highlight-next-line
             - name: &lt;cluster-name&gt;
             # ...

     catalog:
       providers:
         ocm:
           env: # Key is reflected as provider ID. Defines and claims plugin instance ownership of entities
             # highlight-next-line
             kubernetesPluginRef: &lt;cluster-name&gt; # Match the cluster name in kubernetes plugin config</pre><p class="simpara">
										Ensure that the Backstage uses a <code class="literal">ServiceAccount</code> token and the required permissions are granted as mentioned previously.
									</p><p class="simpara">
										This is useful when you already use a Kubernetes plugin in your Backstage instance. Also, the hub cluster must be connected using the <code class="literal">ServiceAccount</code>.
									</p><p class="simpara">
										For more information about the configuration, see <a class="link" href="https://backstage.io/docs/features/kubernetes/configuration#configuring-kubernetes-clusters">Backstage Kubernetes plugin</a> documentation.
									</p></li></ul></div></li><li class="listitem"><p class="simpara">
								Create a new plugin instance in <code class="literal">packages/backend/src/plugins/ocm.ts</code> file as follows:
							</p><pre class="screen">```ts title="packages/backend/src/plugins/ocm.ts"
   import { Router } from 'express';

   import { createRouter } from '@redhat/backstage-plugin-ocm-backend';

   import { PluginEnvironment } from '../types';

   export default async function createPlugin(
     env: PluginEnvironment,
   ): Promise&lt;Router&gt; {
     return await createRouter({
       logger: env.logger,
       config: env.config,
     });
   }</pre></li><li class="listitem"><p class="simpara">
								Import and plug the new instance into <code class="literal">packages/backend/src/index.ts</code> file:
							</p><pre class="screen">```ts title="packages/backend/src/index.ts"
   /* highlight-add-next-line */
   import ocm from './plugins/ocm';

   async function main() {
     // ...
     const createEnv = makeCreateEnv(config);
     // ...
     /* highlight-add-next-line */
     const ocmEnv = useHotMemoize(module, () =&gt; createEnv('ocm'));
     // ...
     const apiRouter = Router();
     // ...
     /* highlight-add-next-line */
     apiRouter.use('/ocm', await ocm(ocmEnv));
     // ...
   }
```</pre></li><li class="listitem"><p class="simpara">
								Import the cluster <code class="literal">Resource</code> entity provider into the <code class="literal">catalog</code> plugin in the <code class="literal">packages/backend/src/plugins/catalog.ts</code> file. The scheduler also needs to be configured. Two configurations are possible here:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Configure the scheduler inside the <code class="literal">app-config.yaml</code>:
									</p><pre class="programlisting language-yaml">```yaml title="app-config.yaml"
      catalog:
        providers:
          ocm:
            env:
              # ...
              # highlight-add-start
              schedule: # optional; same options as in TaskScheduleDefinition
                # supports cron, ISO duration, "human duration" as used in code
                frequency: { minutes: 1 }
                # supports ISO duration, "human duration" as used in code
                timeout: { minutes: 1 }
              # highlight-add-end
+</pre><p class="simpara">
										and then use the configured scheduler
									</p><pre class="screen">```ts title="packages/backend/src/index.ts"
      /* highlight-add-next-line */
      import { ManagedClusterProvider } from '@redhat/backstage-plugin-ocm-backend';

      export default async function createPlugin(
        env: PluginEnvironment,
      ): Promise&lt;Router&gt; {
        const builder = await CatalogBuilder.create(env);
        // ...
        /* highlight-add-start */
        const ocm = ManagedClusterProvider.fromConfig(env.config, {
          logger: env.logger,
          scheduler: env.scheduler,
        });
        builder.addEntityProvider(ocm);
        /* highlight-add-start */
        // ...
      }</pre></li><li class="listitem"><p class="simpara">
										Add a schedule directly inside the <code class="literal">packages/backend/src/plugins/catalog.ts</code> file
									</p><pre class="screen">```ts title="packages/backend/src/index.ts"
      /* highlight-add-next-line */
      import { ManagedClusterProvider } from '@redhat/backstage-plugin-ocm-backend';

      export default async function createPlugin(
        env: PluginEnvironment,
      ): Promise&lt;Router&gt; {
        const builder = await CatalogBuilder.create(env);
        // ...
        /* highlight-add-start */
        const ocm = ManagedClusterProvider.fromConfig(env.config, {
          logger: env.logger,
          schedule: env.scheduler.createScheduledTaskRunner({
            frequency: { minutes: 1 },
            timeout: { minutes: 1 },
          }),
        });
        builder.addEntityProvider(ocm);
        /* highlight-add-start */
        // ...
      }</pre></li></ol></div></li><li class="listitem"><p class="simpara">
								Optional: Configure the default owner for the cluster entities in the catalog for a specific environment. For example, use the following code to set <code class="literal">foo</code> as the owner for clusters from <code class="literal">env</code> in the <code class="literal">app-config.yaml</code> catalog section:
							</p><pre class="programlisting language-yaml">`yaml title="app-config.yaml"
   catalog:
     providers:
       ocm:
         env:
           # highlight-next-line
           owner: user:foo</pre><p class="simpara">
								For more information about the default owner configuration, see <a class="link" href="https://backstage.io/docs/features/software-catalog/references/#string-references">upstream string references documentation</a>.
							</p></li></ol></div></section><section class="section" id="setting-up-the-ocm-frontend-package"><div class="titlepage"><div><div><h4 class="title">7.2.1.3. Setting up the OCM frontend package</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Install the OCM frontend plugin using the following command:
							</p><pre class="programlisting language-console">yarn workspace app add @redhat/backstage-plugin-ocm</pre></li><li class="listitem"><p class="simpara">
								Select the components that you want to use, such as:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
										<code class="literal">OcmPage</code>: This is a standalone page or dashboard displaying all clusters as tiles. You can add <code class="literal">OcmPage</code> to <code class="literal">packages/app/src/App.tsx</code> file as follows:
									</p><pre class="screen">```tsx title="packages/app/src/App.tsx"
     /* highlight-add-next-line */
     import { OcmPage } from '@redhat/backstage-plugin-ocm';

     const routes = (
       &lt;FlatRoutes&gt;
         {/* ... */}
         {/* highlight-add-next-line */}
         &lt;Route path="/ocm" element={&lt;OcmPage logo={&lt;Logo /&gt;} /&gt;} /&gt;
       &lt;/FlatRoutes&gt;
     );</pre><p class="simpara">
										You can also update navigation in <code class="literal">packages/app/src/components/Root/Root.tsx</code> as follows:
									</p><pre class="screen">```tsx title="packages/app/src/components/Root/Root.tsx"
     /* highlight-add-next-line */
     import StorageIcon from '@material-ui/icons/Storage';

     export const Root = ({ children }: PropsWithChildren&lt;{}&gt;) =&gt; (
       &lt;SidebarPage&gt;
         &lt;Sidebar&gt;
           &lt;SidebarGroup label="Menu" icon={&lt;MenuIcon /&gt;}&gt;
             {/* ... */}
             {/* highlight-add-next-line */}
             &lt;SidebarItem icon={StorageIcon} to="ocm" text="Clusters" /&gt;
           &lt;/SidebarGroup&gt;
           {/* ... */}
         &lt;/Sidebar&gt;
         {children}
       &lt;/SidebarPage&gt;
     );</pre></li><li class="listitem"><p class="simpara">
										<code class="literal">ClusterContextProvider</code>: This component is a React context provided for OCM data, which is related to the current entity. The <code class="literal">ClusterContextProvider</code> component is used to display any data on the React components mentioned in <code class="literal">packages/app/src/components/catalog/EntityPage.tsx</code>:
									</p><pre class="screen">```tsx title="packages/app/src/components/catalog/EntityPage.tsx"
     /* highlight-add-start */
     import {
       ClusterAvailableResourceCard,
       ClusterContextProvider,
       ClusterInfoCard,
     } from '@redhat/backstage-plugin-ocm';

     /* highlight-add-end */

     const isType = (types: string | string[]) =&gt; (entity: Entity) =&gt; {
       if (!entity?.spec?.type) {
         return false;
       }
       return typeof types === 'string'
         ? entity?.spec?.type === types
         : types.includes(entity.spec.type as string);
     };

     export const resourcePage = (
       &lt;EntityLayout&gt;
         {/* ... */}
         {/* highlight-add-start */}
         &lt;EntityLayout.Route path="/status" title="status"&gt;
           &lt;EntitySwitch&gt;
             &lt;EntitySwitch.Case if={isType('kubernetes-cluster')}&gt;
               &lt;ClusterContextProvider&gt;
                 &lt;Grid container direction="column" xs={6}&gt;
                   &lt;Grid item&gt;
                     &lt;ClusterInfoCard /&gt;
                   &lt;/Grid&gt;
                   &lt;Grid item&gt;
                     &lt;ClusterAvailableResourceCard /&gt;
                   &lt;/Grid&gt;
                 &lt;/Grid&gt;
               &lt;/ClusterContextProvider&gt;
             &lt;/EntitySwitch.Case&gt;
           &lt;/EntitySwitch&gt;
         &lt;/EntityLayout.Route&gt;
         {/* highlight-add-end */}
       &lt;/EntityLayout&gt;
     );

     export const entityPage = (
       &lt;EntitySwitch&gt;
         {/* ... */}
         {/* highlight-add-next-line */}
         &lt;EntitySwitch.Case if={isKind('resource')} children={resourcePage} /&gt;
       &lt;/EntitySwitch&gt;
     );</pre><p class="simpara">
										In the previous codeblock, you can place the context provider into your <code class="literal">Resource</code> entity renderer, which is usually available in <code class="literal">packages/app/src/components/catalog/EntityPage.tsx</code> or in an imported component.
									</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
												<code class="literal">&lt;ClusterInfoCard /&gt;</code>: This is an entity component displaying details of a cluster in a table:
											</li><li class="listitem">
												<code class="literal">&lt;ClusterAvailableResourceCard /&gt;</code>: This is an entity component displaying the available resources on a cluster. For example, see <a class="link" href="https://open-cluster-management.io/concepts/managedcluster/#cluster-heartbeats-and-status"><code class="literal">.status.capacity</code></a> of the <code class="literal">ManagedCluster</code> resource.
											</li></ul></div></li></ul></div></li></ol></div></section></section></section><section class="section" id="for-users-7"><div class="titlepage"><div><div><h2 class="title">7.3. For users</h2></div></div></div><section class="section" id="using-the-ocm-plugin-in-backstage"><div class="titlepage"><div><div><h3 class="title">7.3.1. Using the OCM plugin in Backstage</h3></div></div></div><p>
					The OCM plugin integrates your Backstage instance with multi-cluster engines and displays real-time data from OCM.
				</p><section class="section" id="prerequisites-2"><div class="titlepage"><div><div><h4 class="title">7.3.1.1. Prerequisites</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Your Backstage application is installed and running.
							</li><li class="listitem">
								You have installed the OCM plugin. For the installation process, see <a class="xref" href="#installation-1" title="3.1.1. Installation">Section 3.1.1, “Installation”</a>.
							</li></ul></div></section><section class="section" id="procedure"><div class="titlepage"><div><div><h4 class="title">7.3.1.2. Procedure</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
								Open your Backstage application.
							</li><li class="listitem"><p class="simpara">
								Click the <span class="strong strong"><strong>Clusters</strong></span> tab from the left-side panel to view the <span class="strong strong"><strong>Managed Clusters</strong></span> page.
							</p><p class="simpara">
								The <span class="strong strong"><strong>Managed Clusters</strong></span> page displays the list of clusters with additional information, such as status, infrastructure provider, associated OpenShift version, and available nodes.
							</p><div class="informalfigure"><div class="mediaobject"><img src="images/ocm-plugin-user1.png" alt="ocm-plugin-ui"/></div></div><p class="simpara">
								You can also upgrade the OpenShift version for a cluster using the <span class="strong strong"><strong>Upgrade available</strong></span> option in the <span class="strong strong"><strong>VERSION</strong></span> column.
							</p></li><li class="listitem"><p class="simpara">
								Select a cluster from the <span class="strong strong"><strong>Managed Clusters</strong></span> to view the related cluster information.
							</p><p class="simpara">
								You are redirected to the cluster-specific page, which consists of:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<span class="strong strong"><strong>Cluster Information</strong></span>, such as name, status, accessed Kubernetes version, associated OpenShift ID and version, and accessed platform.
									</li><li class="listitem">
										<span class="strong strong"><strong>Available</strong></span> cluster capacity, including CPU cores, memory size, and number of pods.
									</li><li class="listitem">
										<span class="strong strong"><strong>Related Links</strong></span>, which enable you to access different consoles directly, such as OpenShift Console, OCM Console, and OpenShift Cluster Manager Console.
									</li><li class="listitem">
										<span class="strong strong"><strong>Relations</strong></span> card, which displays the visual representation of the cluster and associated dependencies.
									</li></ul></div><div class="informalfigure"><div class="mediaobject"><img src="images/ocm-plugin-user2.png" alt="ocm-plugin-ui"/></div></div></li></ol></div></section></section></section></section><section class="chapter" id="quay-plugin-for-backstage"><div class="titlepage"><div><div><h1 class="title">Chapter 8. Quay plugin for Backstage</h1></div></div></div><p>
			The Quay plugin displays the information about your container images within the Quay registry in your Backstage application.
		</p><section class="section" id="for-administrators-8"><div class="titlepage"><div><div><h2 class="title">8.1. For administrators</h2></div></div></div><section class="section" id="installation"><div class="titlepage"><div><div><h3 class="title">8.1.1. Installation</h3></div></div></div><p>
					The Red Hat Plug-ins for Backstage (RHPIB) packages are hosted in a separate NPM registry, which is maintained by Red Hat. To use these packages, you must adjust your NPM configuration to pull the <code class="literal">@redhat</code> scoped packages:
				</p><pre class="screen"># update your .npmrc or .yarnrc file
yarn config set "@redhat:registry" https://npm.registry.redhat.com
# then pull a package
yarn add @redhat/backstage-plugin-quay</pre><p>
					For more information, see <a class="link" href="https://docs.npmjs.com/cli/v9/configuring-npm/npmrc">npm docs</a>.
				</p><p>
					Creating a <code class="literal">.npmrc</code> file ensures that all the packages are scoped under <code class="literal">@redhat</code> and are fetched from <a class="link" href="https://npm.registry.redhat.com/">Red Hat’s NPM registry</a>, while the rest dependencies remain sourced from other <a class="link" href="registry.npmjs.org">registry</a>.
				</p><p>
					You can now install the Quay plugin using the following command:
				</p><pre class="programlisting language-console">yarn workspace app add @redhat/backstage-plugin-quay</pre></section><section class="section" id="configuration-2"><div class="titlepage"><div><div><h3 class="title">8.1.2. Configuration</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Set the proxy to the desired Quay server in the <code class="literal">app-config.yaml</code> file as follows:
						</p><pre class="programlisting language-yaml">   ```yaml title="app-config.yaml"
   proxy:
     '/quay/api':
       target: 'https://quay.io'
       headers:
         X-Requested-With: 'XMLHttpRequest'
         # Uncomment the following line to access a private Quay Repository using a token
         # Authorization: 'Bearer &lt;YOUR TOKEN&gt;'
       changeOrigin: true
       # Change to "false" in case of using self hosted quay instance with a self-signed certificate
       secure: true

   quay:
     # The UI url for Quay, used to generate the link to Quay
     uiUrl: 'https://quay.io'
   ```</pre></li><li class="listitem"><p class="simpara">
							Enable an additional tab on the entity view page in <code class="literal">packages/app/src/components/catalog/EntityPage.tsx</code>:
						</p><pre class="screen">   ```tsx title="packages/app/src/components/catalog/EntityPage.tsx"
   /* highlight-add-next-line */
   import { isQuayAvailable, QuayPage } from '@redhat/backstage-plugin-quay';

   const serviceEntityPage = (
     &lt;EntityPageLayout&gt;
       {/* ... */}
       {/* highlight-add-next-line */}
       &lt;EntityLayout.Route if={isQuayAvailable} path="/quay" title="Quay"&gt;
         &lt;QuayPage /&gt;
       &lt;/EntityLayout.Route&gt;
     &lt;/EntityPageLayout&gt;
   );
   ```</pre></li><li class="listitem"><p class="simpara">
							Annotate your entity with the following annotations:
						</p><pre class="programlisting language-yaml">   ```yaml title="catalog-info.yaml"
   metadata:
     annotations:
       'quay.io/repository-slug': `&lt;ORGANIZATION&gt;/&lt;REPOSITORY&gt;',
   ```</pre></li></ol></div></section></section><section class="section" id="for-users-8"><div class="titlepage"><div><div><h2 class="title">8.2. For users</h2></div></div></div><section class="section" id="using-the-quay-plugin-in-backstage"><div class="titlepage"><div><div><h3 class="title">8.2.1. Using the Quay plugin in Backstage</h3></div></div></div><p>
					Quay is a front-end plugin that enables you to view the information about the container images.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Your Backstage application is installed and running.
						</li><li class="listitem">
							You have installed the Quay plugin. For installation process, see <a class="link" href="#installation" title="8.1.1. Installation">Installation</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Open your Backstage application and select a component from the <span class="strong strong"><strong>Catalog</strong></span> page.
						</li><li class="listitem"><p class="simpara">
							Go to the <span class="strong strong"><strong>Image Registry</strong></span> tab.
						</p><p class="simpara">
							The <span class="strong strong"><strong>Image Registry</strong></span> tab in the Backstage UI contains a list of container images and related information, such as <span class="strong strong"><strong>TAG</strong></span>, <span class="strong strong"><strong>LAST MODIFIED</strong></span>, <span class="strong strong"><strong>SECURITY SCAN</strong></span>, <span class="strong strong"><strong>SIZE</strong></span>, <span class="strong strong"><strong>EXPIRES</strong></span>, and <span class="strong strong"><strong>MANIFEST</strong></span>.
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/quay-plugin-backstage1.png" alt="quay-tab"/></div></div></li><li class="listitem"><p class="simpara">
							If a container image does not pass the security scan, select the security scan value of the image to check the vulnerabilities.
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/quay-plugin-backstage2.png" alt="quay-tab"/></div></div><p class="simpara">
							The vulnerabilities page displays the associated advisory with a link, severity, package name, and current and fixed versions.
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/quay-plugin-backstage3.png" alt="quay-tab-vulnerabilities"/></div></div><p class="simpara">
							The advisory link redirects to the Red Hat Security Advisory page that contains detailed information about the advisory, including the solution.
						</p></li></ol></div></section></section></section><section class="chapter" id="tekton-plugin-for-backstage"><div class="titlepage"><div><div><h1 class="title">Chapter 9. Tekton plugin for Backstage</h1></div></div></div><p>
			The Tekton plugin enables you to visualize the <code class="literal">PipelineRun</code> resources available on the Kubernetes cluster.
		</p><section class="section" id="for-administrators-9"><div class="titlepage"><div><div><h2 class="title">9.1. For administrators</h2></div></div></div><section class="section" id="setting-tekton-plugin"><div class="titlepage"><div><div><h3 class="title">9.1.1. Setting up the Tekton plugin</h3></div></div></div><p>
					The Red Hat Plug-ins for Backstage (RHPIB) packages are hosted in a separate NPM registry, which is maintained by Red Hat. To use these packages, you must adjust your NPM configuration to pull the <code class="literal">@redhat</code> scoped packages:
				</p><pre class="screen"># update your .npmrc or .yarnrc file
yarn config set "@redhat:registry" https://npm.registry.redhat.com
# then pull a package
yarn add @redhat/backstage-plugin-quay</pre><p>
					For more information, see <a class="link" href="https://docs.npmjs.com/cli/v9/configuring-npm/npmrc">npm docs</a>.
				</p><p>
					Creating a <code class="literal">.npmrc</code> file ensures that all the packages are scoped under <code class="literal">@redhat</code> and are fetched from <a class="link" href="https://npm.registry.redhat.com/">Red Hat’s NPM registry</a>, while the rest dependencies remain sourced from other <a class="link" href="registry.npmjs.org">registry</a>.
				</p><p>
					Using this configuration, you can proceed with the installation of the individual packages.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The Kubernetes plugins including <code class="literal">@backstage/plugin-kubernetes</code> and <code class="literal">@backstage/plugin-kubernetes-backend</code> are installed and configured by following the <a class="link" href="https://backstage.io/docs/features/kubernetes/installation">installation</a> and <a class="link" href="https://backstage.io/docs/features/kubernetes/configuration">configuration</a> guides.
						</li><li class="listitem"><p class="simpara">
							The following <code class="literal">customResources</code> component is added in the <a class="link" href="https://backstage.io/docs/features/kubernetes/configuration#configuring-kubernetes-clusters"><code class="literal">app-config.yaml</code></a> file:
						</p><pre class="programlisting language-yaml"> kubernetes:
   ...
   customResources:
     - group: 'tekton.dev'
       apiVersion: 'v1beta1'
       plural: 'pipelineruns'
     - group: 'tekton.dev'
       apiVersion: 'v1beta1'
       plural: 'taskruns'</pre></li><li class="listitem">
							The Kubernetes plugin is configured and connects to the cluster using a <code class="literal">ServiceAccount</code>.
						</li><li class="listitem">
							The <a class="link" href="https://backstage.io/docs/features/kubernetes/configuration#role-based-access-control"><code class="literal">ClusterRole</code></a> must be granted for custom resources (PipelineRuns and TaskRuns) to <code class="literal">ServiceAccount</code> accessing the cluster.
						</li><li class="listitem">
							To view the pog logs, you have granted the permissions for <code class="literal">pods/log</code>.
						</li><li class="listitem"><p class="simpara">
							If you have the Backstage Kubernetes Plugin configured, then the <code class="literal">ClusterRole</code> is already granted.
						</p><p class="simpara">
							You can use the following code to grant the <code class="literal">ClusterRole</code> for custom resources:
						</p><pre class="programlisting language-yaml">...
  apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    name: backstage-read-only
  rules:
    - apiGroups:
        - ""
      resources:
        - pods/log
      verbs:
        - get
        - list
        - watch
    ...
    - apiGroups:
        - tekton.dev
      resources:
        - pipelineruns
        - taskruns
      verbs:
        - get
        - list</pre><div class="informalexample" id="TIP"><p>
							You can use the <a class="link" href="https://raw.githubusercontent.com/janus-idp/backstage-plugins/main/plugins/tekton/manifests/clusterrole.yaml">prepared manifest for a read-only <code class="literal">ClusterRole</code></a>, which provides access for both Kubernetes plugin and Tekton plugin.
						</p></div></li><li class="listitem"><p class="simpara">
							The following annotation is added to the entity’s <code class="literal">catalog-info.yaml</code> file to identify whether an entity contains the Kubernetes resources:
						</p><pre class="programlisting language-yaml">  annotations:
    ...

    backstage.io/kubernetes-id: &lt;BACKSTAGE_ENTITY_NAME&gt;</pre><p class="simpara">
							You can also add the <code class="literal">backstage.io/kubernetes-namespace</code> annotation to identify the Kubernetes resources using the defined namespace.
						</p><pre class="programlisting language-yaml">  annotations:
    ...

    backstage.io/kubernetes-namespace: &lt;RESOURCE_NS&gt;</pre></li><li class="listitem"><p class="simpara">
							The following annotation is added to the <code class="literal">catalog-info.yaml</code> file of entity to view the latest <code class="literal">PipelineRun</code> in the CI/CD tab of the application:
						</p><pre class="programlisting language-yaml">  annotations:
    ...

    janus-idp.io/tekton-enabled : 'true'</pre></li><li class="listitem"><p class="simpara">
							A custom label selector can be added, which Backstage uses to find the Kubernetes resources. The label selector takes precedence over the ID annotations.
						</p><pre class="programlisting language-yaml">  annotations:
    ...

    backstage.io/kubernetes-label-selector: 'app=my-app,component=front-end'</pre></li><li class="listitem"><p class="simpara">
							The following label is added to the resources so that the Kubernetes plugin gets the Kubernetes resources from the requested entity:
						</p><pre class="programlisting language-yaml">  labels:
    ...

    backstage.io/kubernetes-id: &lt;BACKSTAGE_ENTITY_NAME&gt;`</pre></li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						When using the label selector, the mentioned labels must be present on the resource.
					</p></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Install the Tekton plugin using the following command:
						</p><pre class="programlisting language-console">yarn workspace app add @redhat/backstage-plugin-tekton</pre></li><li class="listitem"><p class="simpara">
							Enable the <span class="strong strong"><strong>TEKTON</strong></span> tab on the entity view page using the <code class="literal">packages/app/src/components/catalog/EntityPage.tsx</code> file:
						</p><pre class="screen">   ```tsx title="packages/app/src/components/catalog/EntityPage.tsx"
   /* highlight-add-next-line */
   import { TektonPage } from '@redhat/backstage-plugin-tekton';

   const serviceEntityPage = (
     &lt;EntityPageLayout&gt;
       {/* ... */}
       {/* highlight-add-start */}
       &lt;EntityLayout.Route path="/tekton" title="Tekton"&gt;
         &lt;TektonPage /&gt;
       &lt;/EntityLayout.Route&gt;
       {/* highlight-add-end */}
     &lt;/EntityPageLayout&gt;
   );</pre></li><li class="listitem"><p class="simpara">
							Enable latest PipelineRun visualization in the <span class="strong strong"><strong>CI/CD</strong></span> tab on the entity view page. The <code class="literal">linkTekton</code> property is optional and takes boolean value, if not specified or set to <code class="literal">true</code>, then the <span class="strong strong"><strong>GO TO TEKTON</strong></span> option is displayed.
						</p><pre class="screen">   ```tsx title="packages/app/src/components/catalog/EntityPage.tsx"
   /* highlight-add-next-line */
   import { LatestPipelineRun, isTektonCIAvailable } from '@redhat/backstage-plugin-tekton';

   const cicdContent = (
     &lt;EntitySwitch&gt;&gt;
       {/* ... */}
       {/* highlight-add-start */}
       &lt;EntitySwitch.Case if={isTektonCIAvailable}&gt;
         &lt;LatestPipelineRun linkTekton /&gt;
       &lt;/EntitySwitch.Case&gt;
       {/* highlight-add-end */}
     &lt;/EntitySwitch&gt;
   );
   ```</pre></li></ol></div></section></section><section class="section" id="for-users-9"><div class="titlepage"><div><div><h2 class="title">9.2. For users</h2></div></div></div><section class="section" id="using-the-tekton-plugin-in-backstage"><div class="titlepage"><div><div><h3 class="title">9.2.1. Using the Tekton plugin in Backstage</h3></div></div></div><p>
					Tekton is a front-end plugin that enables you to view the <code class="literal">PipelineRun</code> resources.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Your Backstage application is installed and running.
						</li><li class="listitem">
							You have installed the Tekton plugin. For the installation process, see <a class="link" href="#setting-tekton-plugin" title="9.1.1. Setting up the Tekton plugin">Setting up the Tekton plugin</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Open your Backstage application and select a component from the <span class="strong strong"><strong>Catalog</strong></span> page.
						</li><li class="listitem"><p class="simpara">
							Go to the <span class="strong strong"><strong>CI/CD</strong></span> tab.
						</p><p class="simpara">
							The <span class="strong strong"><strong>CI/CD</strong></span> tab displays the latest <code class="literal">PipelineRun</code> resources associated to a Kubernetes cluster. The resources include tasks to complete. When you hover the mouse pointer on a task card, you can view the steps to complete that particular task.
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/tekton-plugin-user1.png" alt="ci-cd-tab-tekton"/></div></div><p class="simpara">
							There is also a <span class="strong strong"><strong>GO TO TEKTON</strong></span> option at the bottom, which redirects you to the <span class="strong strong"><strong>TEKTON</strong></span> tab.
						</p></li><li class="listitem"><p class="simpara">
							Click <span class="strong strong"><strong>GO TO TEKTON</strong></span> or select the <span class="strong strong"><strong>TEKTON</strong></span> tab in the entity view page.
						</p><p class="simpara">
							The <span class="strong strong"><strong>TEKTON</strong></span> tab contains the list of pipeline runs related to a cluster. The list contains pipeline run details, such as <span class="strong strong"><strong>NAME</strong></span>, <span class="strong strong"><strong>STATUS</strong></span>, <span class="strong strong"><strong>TASK STATUS</strong></span>, <span class="strong strong"><strong>STARTED</strong></span>, and <span class="strong strong"><strong>DURATION</strong></span>.
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/tekton-plugin-user2.png" alt="tekton-tab"/></div></div></li><li class="listitem"><p class="simpara">
							Click a PipelineRun name in the list to view the PipelineRun visualization.
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/tekton-plugin-user3.png" alt="pipelinerun-page"/></div></div><p class="simpara">
							To go back to the PipelineRun list, you can click the Back to PipelineRun list option.
						</p></li></ol></div></section></section></section><section class="chapter" id="topology-plugin-for-backstage"><div class="titlepage"><div><div><h1 class="title">Chapter 10. Topology plugin for Backstage</h1></div></div></div><p>
			The Topology plugin enables you to visualize the workloads such as Deployment, Job, Daemonset, Statefulset, CronJob, and Pods powering any service on the Kubernetes cluster.
		</p><section class="section" id="for-administrators-10"><div class="titlepage"><div><div><h2 class="title">10.1. For administrators</h2></div></div></div><section class="section" id="installation-4"><div class="titlepage"><div><div><h3 class="title">10.1.1. Installation</h3></div></div></div><p>
					The Red Hat Plug-ins for Backstage (RHPIB) packages are hosted in a separate NPM registry, which is maintained by Red Hat. To use these packages, you must adjust your NPM configuration to pull the <code class="literal">@redhat</code> scoped packages:
				</p><pre class="screen"># update your .npmrc or .yarnrc file
yarn config set "@redhat:registry" https://npm.registry.redhat.com
# then pull a package
yarn add @redhat/backstage-plugin-quay</pre><p>
					For more information, see <a class="link" href="https://docs.npmjs.com/cli/v9/configuring-npm/npmrc">npm docs</a>.
				</p><p>
					Creating a <code class="literal">.npmrc</code> file ensures that all the packages are scoped under <code class="literal">@redhat</code> and are fetched from <a class="link" href="https://npm.registry.redhat.com/">Red Hat’s NPM registry</a>, while the rest dependencies remain sourced from other <a class="link" href="registry.npmjs.org">registry</a>.
				</p><p>
					Using this configuration, you can proceed with the installation of the individual packages.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The Kubernetes plugins including <code class="literal">@backstage/plugin-kubernetes</code> and <code class="literal">@backstage/plugin-kubernetes-backend</code> are installed and configured by following the <a class="link" href="https://backstage.io/docs/features/kubernetes/installation">installation</a> and <a class="link" href="https://backstage.io/docs/features/kubernetes/configuration">configuration</a> guides.
						</li><li class="listitem">
							The Kubernetes plugin is configured and connects to the cluster using a <code class="literal">ServiceAccount</code>.
						</li><li class="listitem">
							The <a class="link" href="https://backstage.io/docs/features/kubernetes/configuration#role-based-access-control"><code class="literal">ClusterRole</code></a> must be granted to <code class="literal">ServiceAccount</code> accessing the cluster. If you have the Backstage Kubernetes plugin configured, then the <code class="literal">ClusterRole</code> is already granted.
						</li><li class="listitem"><p class="simpara">
							The following must be added in<code class="literal">customResources</code> component in the <a class="link" href="https://backstage.io/docs/features/kubernetes/configuration#configuring-kubernetes-clusters"><code class="literal">app-config.yaml</code></a> file to view the OpenShift route:
						</p><pre class="programlisting language-yaml">   kubernetes:
     ...
     customResources:
       - group: 'route.openshift.io'
         apiVersion: 'v1'
         plural: 'routes'</pre><p class="simpara">
							Also, ensure that the route is granted a <a class="link" href="https://backstage.io/docs/features/kubernetes/configuration#role-based-access-control"><code class="literal">ClusterRole</code></a>. You can use the following code to grant the <code class="literal">ClusterRole</code> to the route :
						</p><pre class="programlisting language-yaml">    ...
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRole
    metadata:
      name: backstage-read-only
    rules:
      ...
      - apiGroups:
          - route.openshift.io
        resources:
          - routes
        verbs:
          - get
          - list</pre></li><li class="listitem"><p class="simpara">
							The following permission must be granted to the <a class="link" href="https://backstage.io/docs/features/kubernetes/configuration#role-based-access-control"><code class="literal">ClusterRole</code></a> to be able to view the pod logs:
						</p><pre class="programlisting language-yaml">  apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    name: backstage-read-only
  rules:
    ...
    - apiGroups:
        - ''
      resources:
        - pods
        - pods/log
      verbs:
        - get
        - list
        - watch</pre></li><li class="listitem"><p class="simpara">
							The following code must be added in <code class="literal">customResources</code> component in the <a class="link" href="https://backstage.io/docs/features/kubernetes/configuration#configuring-kubernetes-clusters"><code class="literal">app-config.yaml</code></a> file to view the Tekton PipelineRuns list in the side panel and to view the latest PipelineRun status in the Topology node decorator:
						</p><pre class="programlisting language-yaml">  kubernetes:
    ...
    customResources:
      - group: 'tekton.dev'
        apiVersion: 'v1beta1'
        plural: 'pipelines'
      - group: 'tekton.dev'
        apiVersion: 'v1beta1'
        plural: 'pipelineruns'
      - group: 'tekton.dev'
        apiVersion: 'v1beta1'
        plural: 'taskruns'</pre><p class="simpara">
							Also, ensure that the Pipeline, PipelineRun, and TaskRun are granted a <a class="link" href="https://backstage.io/docs/features/kubernetes/configuration#role-based-access-control"><code class="literal">ClusterRole</code></a>. You can use the following code to grant the <code class="literal">ClusterRole</code> to Pipeline, PipelineRun, and TaskRun:
						</p><pre class="programlisting language-yaml">  apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    name: backstage-read-only
  rules:
    ...
    - apiGroups:
        - tekton.dev
      resources:
        - pipelines
        - pipelineruns
        - taskruns
      verbs:
        - get
        - list</pre></li><li class="listitem"><p class="simpara">
							The following configuration must be added in`customResources` component in the <a class="link" href="https://backstage.io/docs/features/kubernetes/configuration#configuring-kubernetes-clusters"><code class="literal">app-config.yaml</code></a> file to view the edit code decorator:
						</p><pre class="programlisting language-yaml">  kubernetes:
    ...
    customResources:
      - group: 'org.eclipse.che'
        apiVersion: 'v2'
        plural: 'checlusters'</pre><p class="simpara">
							Also, ensure that the <code class="literal">CheCluster</code> is granted a <a class="link" href="https://backstage.io/docs/features/kubernetes/configuration#role-based-access-control"><code class="literal">ClusterRole</code></a> as shown in the following example code:
						</p><pre class="programlisting language-yaml">  apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    name: backstage-read-only
  rules:
    ...
    - apiGroups:
        - org.eclipse.che
      resources:
        - checlusters
      verbs:
        - get
        - list</pre></li><li class="listitem"><p class="simpara">
							The following annotations are added to workload resources in the <code class="literal">deployment.yaml</code> file to navigate to the GitHub repository of the associated application using the edit code decorator:
						</p><pre class="programlisting language-yaml">annotations:
  app.openshift.io/vcs-uri: &lt;GIT_REPO_URL&gt;</pre><p class="simpara">
							You can also add the following annotation to navigate to a specific branch:
						</p><pre class="programlisting language-yaml">annotations:
  app.openshift.io/vcs-ref: &lt;GIT_REPO_BRANCH&gt;</pre><p class="simpara">
							If Red Hat OpenShift Dev Spaces (RHODS) is installed and configured and Git URL annotations are also added in the workload YAML file, then clicking on the edit code decorator redirects you to the RHODS instance. For more information about installing RHODS, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openshift_dev_spaces/3.7/html/administration_guide/installing-devspaces">Administration guide</a> of RHODS.
						</p><p class="simpara">
							When you deploy your application using the OCP git import flow, then you do not need to add the labels as import flow to the workload YAML file. Otherwise, you would need to add the labels to the workload YAML file manually.
						</p><p class="simpara">
							The labels are not similar to <code class="literal">backstage.io/edit-url</code> annotations as the added labels point to the source file of catalog entity metadata and is applied to Backstage catalog entity metadata YAML file, but not to the Kubernetes resources.
						</p><p class="simpara">
							You can also add the <code class="literal">app.openshift.io/edit-url</code> annotation that you want to access using the decorator.
						</p><div class="admonition tip"><div class="admonition_header">Tip</div><div><p>
							You can use the <a class="link" href="https://raw.githubusercontent.com/janus-idp/backstage-plugins/main/plugins/topology/manifests/clusterrole.yaml">prepared manifest for a read-only <code class="literal">ClusterRole</code></a>, which provides access for both Kubernetes and Topology plugin.
						</p></div></div></li><li class="listitem"><p class="simpara">
							The following annotation is added to the entity’s <code class="literal">catalog-info.yaml</code> file to identify whether an entitiy contains the Kubernetes resources:
						</p><pre class="programlisting language-yaml">annotations:
  backstage.io/kubernetes-id: &lt;BACKSTAGE_ENTITY_NAME&gt;</pre><p class="simpara">
							The following label is added to the resources so that the Kubernetes plugin receives the Kubernetes resources from the requested entity:
						</p><pre class="programlisting language-yaml">labels:
  backstage.io/kubernetes-id: &lt;BACKSTAGE_ENTITY_NAME&gt;`</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								When using the label selector, the mentioned labels must be present on the resource.
							</p></div></div></li><li class="listitem"><p class="simpara">
							The <code class="literal">backstage.io/kubernetes-namespace</code> annotation is added as follows to identify that the Kubernetes resources are using the defined namespace:
						</p><pre class="programlisting language-yaml">annotations:
  backstage.io/kubernetes-namespace: &lt;RESOURCE_NS&gt;</pre><p class="simpara">
							If the <code class="literal">backstage.io/kubernetes-namespace</code> annotation is added to the <code class="literal">catalog-info.yaml</code> file, then the RHODS instance is not accessible using the edit code decorator.
						</p><p class="simpara">
							To retrieve the instance URL, CheCluster Custom Resource (CR) is required. The instance URL is not retrieved if the namespace annotation value is different from <code class="literal">openshift-devspaces</code> as CheCluster CR is created in <code class="literal">openshift-devspaces</code> namespace.
						</p></li><li class="listitem"><p class="simpara">
							A custom label selector is added, which Backstage uses to find the Kubernetes resources. The label selector takes precedence over the ID annotations. For example:
						</p><pre class="programlisting language-yaml">annotations:
  backstage.io/kubernetes-label-selector: 'app=my-app,component=front-end'</pre><p class="simpara">
							If you have multiple entities while RHODS is configured and want multiple entities to support the edit code decorator that redirects to the RHODS instance, you can add the <code class="literal">backstage.io/kubernetes-label-selector</code> annotation to the <code class="literal">catalog-info.yaml</code> file for each entity as follows:
						</p><pre class="programlisting language-yaml">annotations:
  backstage.io/kubernetes-label-selector: 'component in (&lt;BACKSTAGE_ENTITY_NAME&gt;,che)'</pre><p class="simpara">
							If you are using the previous custom label selector, then make sure that you add the following labels to your resources so that the Kubernetes plugin receives the Kubernetes resources from the requested entity:
						</p><pre class="programlisting language-yaml">labels:
  component: che # add this label to your che cluster instance</pre><pre class="programlisting language-yaml">labels:
  component: &lt;BACKSTAGE_ENTITY_NAME&gt; # add this label to the other resources associated with your entity</pre><p class="simpara">
							You can also write your own custom query for the label selector with unique labels to differentiate your entities. However, you need to ensure that you add those labels to the resources associated with your entities including your CheCluster instance.
						</p></li><li class="listitem"><p class="simpara">
							The following label is added to workload resources in the <code class="literal">deployment.yaml</code> file to display runtime icon in the topology nodes:
						</p><pre class="programlisting language-yaml">labels:
  app.openshift.io/runtime: &lt;RUNTIME_NAME&gt;</pre><p class="simpara">
							Alternatively, you can include the following label to display the runtime icon:
						</p><pre class="programlisting language-yaml">labels:
  app.kubernetes.io/name: &lt;RUNTIME_NAME&gt;</pre><p class="simpara">
							The <code class="literal">&lt;RUNTIME_NAME&gt;</code> parameter in the previous example label supports the following values:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									<code class="literal">django</code>
								</li><li class="listitem">
									<code class="literal">dotnet</code>
								</li><li class="listitem">
									<code class="literal">drupal</code>
								</li><li class="listitem">
									<code class="literal">go-gopher</code>
								</li><li class="listitem">
									<code class="literal">golang</code>
								</li><li class="listitem">
									<code class="literal">grails</code>
								</li><li class="listitem">
									<code class="literal">jboss</code>
								</li><li class="listitem">
									<code class="literal">jruby</code>
								</li><li class="listitem">
									<code class="literal">js</code>
								</li><li class="listitem">
									<code class="literal">nginx</code>
								</li><li class="listitem">
									<code class="literal">nodejs</code>
								</li><li class="listitem">
									<code class="literal">openjdk</code>
								</li><li class="listitem">
									<code class="literal">perl</code>
								</li><li class="listitem">
									<code class="literal">phalcon</code>
								</li><li class="listitem">
									<code class="literal">php</code>
								</li><li class="listitem">
									<code class="literal">python</code>
								</li><li class="listitem">
									<code class="literal">quarkus</code>
								</li><li class="listitem">
									<code class="literal">rails</code>
								</li><li class="listitem">
									<code class="literal">redis</code>
								</li><li class="listitem">
									<code class="literal">rh-spring-boot</code>
								</li><li class="listitem">
									<code class="literal">rust</code>
								</li><li class="listitem">
									<code class="literal">java</code>
								</li><li class="listitem">
									<code class="literal">rh-openjdk</code>
								</li><li class="listitem">
									<code class="literal">ruby</code>
								</li><li class="listitem">
									<code class="literal">spring</code>
								</li><li class="listitem">
									<code class="literal">spring-boot</code>
								</li></ul></div><p class="simpara">
							Any other value for <code class="literal">&lt;RUNTIME_NAME&gt;</code> parameter results in icons not being rendered for the node.
						</p></li><li class="listitem"><p class="simpara">
							The following label is added to display the workload resources such as Deployments and Pods in a visual group:
						</p><pre class="programlisting language-yaml">  ```yaml title="catalog-info.yaml"
  labels:
    app.kubernetes.io/part-of: &lt;GROUP_NAME&gt;
  ```</pre></li><li class="listitem"><p class="simpara">
							The following annotation is added to display the workload resources such as Deployments and Pods with a visual connector:
						</p><pre class="screen">  ```yaml title="catalog-info.yaml"
  annotations:
    app.openshift.io/connects-to: '[{"apiVersion": &lt;RESOURCE_APIVERSION&gt;,"kind": &lt;RESOURCE_KIND&gt;,"name": &lt;RESOURCE_NAME&gt;}]'
  ```</pre><p class="simpara">
							For more information about the labels and annotations, see <a class="link" href="https://github.com/redhat-developer/app-labels/blob/master/labels-annotation-for-openshift.adoc">Guidelines for labels and annotations for OpenShift applications</a>.
						</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Install the Topology plugin using the following command:
						</p><pre class="programlisting language-console">yarn workspace app add @redhat/backstage-plugin-topology</pre></li><li class="listitem"><p class="simpara">
							Enable <span class="strong strong"><strong>TOPOLOGY</strong></span> tab in <code class="literal">packages/app/src/components/catalog/EntityPage.tsx</code>:
						</p><pre class="screen">   ```tsx title="packages/app/src/components/catalog/EntityPage.tsx"
   /* highlight-add-next-line */
   import { TopologyPage } from '@redhat/backstage-plugin-topology';

   const serviceEntityPage = (
     &lt;EntityPageLayout&gt;
       {/* ... */}
       {/* highlight-add-start */}
       &lt;EntityLayout.Route path="/topology" title="Topology"&gt;
         &lt;TopologyPage /&gt;
       &lt;/EntityLayout.Route&gt;
       {/* highlight-add-end */}
     &lt;/EntityPageLayout&gt;
   );
   ```</pre></li></ol></div></section></section><section class="section" id="for-users-10"><div class="titlepage"><div><div><h2 class="title">10.2. For users</h2></div></div></div><section class="section" id="using-the-topology-plugin-in-backstage"><div class="titlepage"><div><div><h3 class="title">10.2.1. Using the Topology plugin in Backstage</h3></div></div></div><p>
					Topology is a front-end plugin that enables you to view the workloads as nodes that power any service on the Kubernetes cluster.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Your Backstage application is installed and running.
						</li><li class="listitem">
							You have installed the Topology plugin. For the installation process, see <a class="xref" href="#installation-1" title="3.1.1. Installation">Section 3.1.1, “Installation”</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Open your Backstage application and select a component from the <span class="strong strong"><strong>Catalog</strong></span> page.
						</li><li class="listitem"><p class="simpara">
							Go to the <span class="strong strong"><strong>TOPOLOGY</strong></span> tab and you can view the workloads such as Deployments, Pods as nodes.
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/topology-tab-user1.png" alt="topology-tab"/></div></div></li><li class="listitem"><p class="simpara">
							Select a node and a pop-up appears on the right side, which contains two tabs: <span class="strong strong"><strong>Details</strong></span> and <span class="strong strong"><strong>Resources</strong></span>.
						</p><p class="simpara">
							The <span class="strong strong"><strong>Details</strong></span> and <span class="strong strong"><strong>Resources</strong></span> tab contain the associated information and resources of the node.
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/topology-tab-user2.png" alt="topology-tab-details"/></div></div></li><li class="listitem"><p class="simpara">
							Click on the <span class="strong strong"><strong>Open URL</strong></span> button on the top of a node.
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/topology-tab-user3.png" alt="topology-tab-open-url"/></div></div><p class="simpara">
							When you click on the open URL button, it allows you to access the associated <span class="strong strong"><strong>Ingresses</strong></span> and runs your application in a new tab.
						</p></li></ol></div></section></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm46687272251744"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"/>© 2023 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></div></div><script type="text/javascript">
                        jQuery(document).ready(function() {
                            initSwitchery();
                            jQuery('pre[class*="language-"]').each(function(i, block){hljs.highlightBlock(block);});
                        });
                    </script></body></html>